<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="æµ™å¤§PATè€ƒè¯•æ•°æ®ç»“æ„ä¸ç®—æ³•æ¨¡æ¿æ•´ç†" />
    <meta name="hexo-theme-A4" content="v1.9.8" />
    <link rel="alternate icon" type="image/webp" href="/img/20250602032635.jpg">
    <title>Yann | æˆ‘æ„¿åšä½ å…‰åä¸­æ·¡æ·¡çš„ä¸€ç¬”</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


   
        
<link rel="stylesheet" href="/css/custom.css">

    

<meta name="generator" content="Hexo 5.4.2"></head>
    
    

    
    



    
        <style>
            .paper-main{
                max-width:  1200px;
            }
        </style>

    
    




    
    <style>
        :root {
            --waline-theme-color: #323e74; 
            --waline-color: #323e74; 
            --waline-border-color: #323e74; 
            --waline-white: #323e74; 
            --waline-bgcolor-light: #f2fafc;  
        }
        body {
            color: #323e74;
            background: #eaeae8;
        }
        .post-md code {
            background: #e7f7f3;
            color: #7f688d; 
        }
        .post-md pre, .post-md .highlight {
            background: #e7f7f3;
            color: #7f688d; 
        }
        pre .string, pre .value, pre .inheritance, pre .header, pre .ruby .symbol, pre .xml .cdata {
            color: #323e74;
        }
        pre .number, pre .preprocessor, pre .built_in, pre .literal, pre .params, pre .constant {
            color: #323e74;
        }
        .year-font-color {
            color: #323e74 !important;
        }
        .wl-card span.wl-nick {
            color: #323e74; 
        }
        .wl-card .wl-badge {
            border: 1px solid #323e74;
            color: #323e74; 
        }
        .wl-btn {
            border: 1px solid #323e74; 
            color:  #323e74;  
        }
        .wl-btn.primary {
            color: #f2fafc; 
        }
        .wl-header label {
            color: #323e74;
        }
        a {
            color: #7f688d;
        }

        .post-md a {
            color: #7f688d;
        }

        .nav li a {
            color: #7f688d;
        }

        .archive-main a:link {
            color: #7f688d;
        }
        .archive-main a:visited {
            color: #767c7c; 
        }

        .archive li span {
            color: #323e74;
        }

        .post-main-title {
            color: #323e74;
        }

        .post-md h1,
        .post-md h2,
        .post-md h3,
        .post-md h4,
        .post-md h5,
        .post-md h6 {
            color: #323e74;
        }

        [data-waline] p {
            color: #323e74;
        }
        [data-waline] a {
            color: #323e74;
        } 
        .wl-sort li.active {
            color: #323e74;
        }

        .wl-card .wl-meta>span {
            background: #f2fafc;
        }

        .paper {
            background: #eaeae8;
        }

        .index-main {
            background: #f2fafc;
        }

        .paper-main {
            background: #f2fafc;
        }

        .wl-panel {
            background: #f2fafc;
        }

        .archive li:nth-child(odd) {
            background: #f2fafc;
            ;
        }

        .archive li:nth-child(even) {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(odd) td {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(even) td {
            background: #f2fafc;
        }

    
        .progress-wrap::after {
            color: #323e74; /* ç®­å¤´çš„é¢œè‰² */
        }
        .progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* è¾¹æ¡†çš„é¢œè‰² */
        }
        .progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* é¼ æ ‡æ»‘è¿‡çš„ç®­å¤´é¢œè‰² */
         }

        .return-to-last-progress-wrap::after {
            color: #323e74; /* ç®­å¤´çš„é¢œè‰² */
        }
        .return-to-last-progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* è¾¹æ¡†çš„é¢œè‰² */
        }
        .return-to-last-progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* é¼ æ ‡æ»‘è¿‡çš„ç®­å¤´é¢œè‰² */
         }

         .left-toc-container::-webkit-scrollbar-thumb {
            background-color: #323e74; /* è®¾ç½®æ»šåŠ¨æ¡æ‹–åŠ¨å—çš„é¢œè‰² */
        }

        .bs-docs-sidebar .nav>.active>a,
        .bs-docs-sidebar .nav>li>a:hover,
        .bs-docs-sidebar .nav>li>a:focus {
            color: #7f688d;
            border-left-color: #7f688d;
        }
        .bs-docs-sidebar .nav>li>a {
            color:  #323e74;
        }
    </style>

    
    <style>
        body {
            background-image: url(/img/3.jpg);
            background-attachment: fixed;  /* èƒŒæ™¯å›ºå®šï¼Œä¸éšé¡µé¢æ»šåŠ¨ */
            background-repeat: no-repeat;  /* é˜²æ­¢èƒŒæ™¯å›¾ç‰‡é‡å¤ */
            background-size: cover;       /* èƒŒæ™¯è‡ªé€‚åº”å¤§å°ï¼Œè¦†ç›–æ•´ä¸ªèƒŒæ™¯ */
            background-position: center;   /* èƒŒæ™¯å±…ä¸­æ˜¾ç¤º */
        }
        .paper {
            background-image: url(/img/3.jpg);
            background-attachment: fixed;  /* èƒŒæ™¯å›ºå®šï¼Œä¸éšé¡µé¢æ»šåŠ¨ */
            background-repeat: no-repeat;  /* é˜²æ­¢èƒŒæ™¯å›¾ç‰‡é‡å¤ */
            background-size: cover;       /* èƒŒæ™¯è‡ªé€‚åº”å¤§å°ï¼Œè¦†ç›–æ•´ä¸ªèƒŒæ™¯ */
            background-position: center;   /* èƒŒæ™¯å±…ä¸­æ˜¾ç¤º */
        }  
    </style>


    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #eaeae8  ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            
                <div class="left-toc-container">
                    <nav id="toc" class="bs-docs-sidebar"></nav>
                </div>
            
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <style>
            .header-img {
                width: 56px;
                height: auto;
                object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
                transition: transform 0.3s ease-in-out; 
                border-radius: 0; 
            }
            
        </style>
        <img 
            alt="^-^" 
            cache-control="max-age=86400" 
            class="header-img" 
            src="/img/20250602032635.jpg" 
        />
        <div class="header-content">
            <a class="logo" href="/">Yann</a> 
            <span class="description">äººå·¥æ™ºèƒ½ã€è®¡ç®—æœºã€æœºå™¨å­¦ä¹ ã€linuxã€ç¨‹åºå‘˜</span> 
        </div>
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
            
                <li><a href="/tags/">æ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    æµ™å¤§PATè€ƒè¯•æ•°æ®ç»“æ„ä¸ç®—æ³•æ¨¡æ¿æ•´ç†
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2022-02-26</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š15.9k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š80åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="post-toc-text">å­—ç¬¦ä¸²</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">å­—ç¬¦ä¸²ç±»å‹è½¬æ¢</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-to-string"><span class="post-toc-text">01 to_string()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-stoi-%E5%92%8Catoi"><span class="post-toc-text">02 stoi()å’Œatoi()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-string%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95c-str"><span class="post-toc-text">03 stringç±»çš„æ–¹æ³•c_str()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#04-string%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95find"><span class="post-toc-text">04 stringç±»çš„æ–¹æ³•find()</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#05-string%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95substr"><span class="post-toc-text">05 stringç±»çš„æ–¹æ³•substr()</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#KMP"><span class="post-toc-text">KMP</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="post-toc-text">æ’åº</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%A0%86%E6%8E%92%E5%BA%8F"><span class="post-toc-text">å †æ’åº</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="post-toc-text">å¿«é€Ÿæ’åº</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%BA%BF%E6%80%A7%E7%AC%ACK%E5%A4%A7-%E5%BF%AB%E6%8E%92%E6%80%9D%E6%83%B3%E5%BA%94%E7%94%A8"><span class="post-toc-text">çº¿æ€§ç¬¬Kå¤§(å¿«æ’æ€æƒ³åº”ç”¨)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="post-toc-text">å½’å¹¶æ’åº</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%A4%E6%96%AD%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="post-toc-text">åˆ¤æ–­æ’å…¥æ’åº</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BA%8C%E5%88%86"><span class="post-toc-text">äºŒåˆ†</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%95%B4%E6%95%B0%E4%BA%8C%E5%88%86"><span class="post-toc-text">æ•´æ•°äºŒåˆ†</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="post-toc-text">é“¾è¡¨</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8D%95%E9%93%BE%E8%A1%A8"><span class="post-toc-text">å•é“¾è¡¨</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%8C%E9%93%BE%E8%A1%A8"><span class="post-toc-text">åŒé“¾è¡¨</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97"><span class="post-toc-text">æ ˆå’Œé˜Ÿåˆ—</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8D%95%E8%B0%83%E6%A0%88"><span class="post-toc-text">å•è°ƒæ ˆ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97"><span class="post-toc-text">å•è°ƒé˜Ÿåˆ—</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A0%91"><span class="post-toc-text">æ ‘</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%8D%E8%BD%AC%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="post-toc-text">åè½¬äºŒå‰æ ‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9E%84%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91"><span class="post-toc-text">æ„å»ºäºŒå‰æœç´¢æ ‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%A4%E6%96%AD%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="post-toc-text">åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E9%81%8D%E5%8E%86"><span class="post-toc-text">äºŒå‰æ ‘éå†</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="post-toc-text">01 å…ˆåºéå†</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="post-toc-text">02 ä¸­åºéå†</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86"><span class="post-toc-text">03 ååºéå†</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91"><span class="post-toc-text">é‡å»ºäºŒå‰æ ‘</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E5%85%88%E5%BA%8F-%E5%90%8E%E5%BA%8F-%E4%B8%8D%E5%94%AF%E4%B8%80"><span class="post-toc-text">01 å…ˆåº+ååº(ä¸å”¯ä¸€)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%85%88%E5%BA%8F-%E4%B8%AD%E5%BA%8F-%E5%94%AF%E4%B8%80"><span class="post-toc-text">02 å…ˆåº+ä¸­åº(å”¯ä¸€)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E5%90%8E%E5%BA%8F-%E4%B8%AD%E5%BA%8F-%E5%94%AF%E4%B8%80"><span class="post-toc-text">03 ååº+ä¸­åº(å”¯ä¸€)</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0AVL%E6%A0%91%E6%8F%92%E5%85%A5"><span class="post-toc-text">æ‰‹åŠ¨å®ç°AVLæ ‘æ’å…¥</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%A4%E6%96%AD%E7%BA%A2%E9%BB%91%E6%A0%91"><span class="post-toc-text">åˆ¤æ–­çº¢é»‘æ ‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DFS%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86%E6%98%AF%E5%90%A6%E4%B8%BA%E5%A0%86"><span class="post-toc-text">DFSåˆ¤æ–­ä¸€ä¸ªå…ˆåºéå†æ˜¯å¦ä¸ºå †</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%80%E4%BD%8E%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="post-toc-text">æœ€ä½å…¬å…±ç¥–å…ˆ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="post-toc-text">å¹¶æŸ¥é›†</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E6%9C%B4%E7%B4%A0%E7%89%88%E6%9C%AC"><span class="post-toc-text">01 æœ´ç´ ç‰ˆæœ¬</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%90%88%E5%B9%B6%E6%97%B6%E6%9B%B4%E6%96%B0%E9%A2%9D%E5%A4%96%E4%BF%A1%E6%81%AF"><span class="post-toc-text">02 åˆå¹¶æ—¶æ›´æ–°é¢å¤–ä¿¡æ¯</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9B%BE"><span class="post-toc-text">å›¾</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E4%B8%8E%E6%89%A9%E5%B1%95%E9%97%AE%E9%A2%98"><span class="post-toc-text">æœ€çŸ­è·¯å¾„ä¸æ‰©å±•é—®é¢˜</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E6%9C%B4%E7%B4%A0dijkstra"><span class="post-toc-text">01 æœ´ç´ dijkstra</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%A0%86%E4%BC%98%E5%8C%96%E7%89%88dijkstra"><span class="post-toc-text">02 å †ä¼˜åŒ–ç‰ˆdijkstra</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E5%AF%B9%E6%9C%80%E7%9F%AD%E8%B7%AF%E9%80%89%E6%8B%A9%E7%9A%84%E6%89%A9%E5%B1%95"><span class="post-toc-text">03 å¯¹æœ€çŸ­è·¯é€‰æ‹©çš„æ‰©å±•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#04-%E5%AF%B9%E6%9C%80%E7%9F%AD%E8%B7%AF%E4%BF%A1%E6%81%AF%E7%9A%84%E6%89%A9%E5%B1%95"><span class="post-toc-text">04 å¯¹æœ€çŸ­è·¯ä¿¡æ¯çš„æ‰©å±•</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%A4%E6%96%AD%E5%93%88%E5%AF%86%E9%A1%BF%E5%9B%9E%E8%B7%AF"><span class="post-toc-text">åˆ¤æ–­å“ˆå¯†é¡¿å›è·¯</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AC%A7%E6%8B%89%E8%B7%AF%E5%BE%84"><span class="post-toc-text">æ¬§æ‹‰è·¯å¾„</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%A1%B6%E7%82%B9%E8%A6%86%E7%9B%96"><span class="post-toc-text">é¡¶ç‚¹è¦†ç›–</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%80%E5%A4%A7%E5%9B%A2"><span class="post-toc-text">æœ€å¤§å›¢</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="post-toc-text">æ‹“æ‰‘æ’åº</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9F%93%E8%89%B2%E9%97%AE%E9%A2%98"><span class="post-toc-text">æŸ“è‰²é—®é¢˜</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E4%BA%8C%E5%88%86%E5%9B%BE%E6%9F%93%E8%89%B2"><span class="post-toc-text">01 äºŒåˆ†å›¾æŸ“è‰²</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%88%A4%E6%96%AD%E6%9F%93%E8%89%B2%E6%96%B9%E6%A1%88"><span class="post-toc-text">02 åˆ¤æ–­æŸ“è‰²æ–¹æ¡ˆ</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%95%B0%E5%AD%A6"><span class="post-toc-text">æ•°å­¦</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%AB%98%E7%B2%BE%E5%BA%A6"><span class="post-toc-text">é«˜ç²¾åº¦</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%8A%A0%E6%B3%95"><span class="post-toc-text">01 é«˜ç²¾åº¦åŠ æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E9%AB%98%E7%B2%BE%E5%BA%A6%E5%87%8F%E6%B3%95"><span class="post-toc-text">02 é«˜ç²¾åº¦å‡æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E9%AB%98%E7%B2%BE%E5%BA%A6%E4%B9%98%E6%B3%95"><span class="post-toc-text">03 é«˜ç²¾åº¦ä¹˜æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#04-%E9%AB%98%E7%B2%BE%E5%BA%A6%E9%99%A4%E6%B3%95"><span class="post-toc-text">04 é«˜ç²¾åº¦é™¤æ³•*</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%86%E8%A7%A3%E8%B4%A8%E5%9B%A0%E5%AD%90"><span class="post-toc-text">åˆ†è§£è´¨å› å­</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%86%E6%95%B0%E8%BF%90%E7%AE%97-%E5%92%8C%E5%B7%AE%E7%A7%AF%E5%95%86"><span class="post-toc-text">åˆ†æ•°è¿ç®—(å’Œå·®ç§¯å•†)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%B4%A0%E6%95%B0%E7%AD%9B"><span class="post-toc-text">ç´ æ•°ç­›</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E6%9C%B4%E7%B4%A0%E7%AD%9B%E6%B3%95"><span class="post-toc-text">01 æœ´ç´ ç­›æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%9F%83%E6%B0%8F%E7%AD%9B%E6%B3%95"><span class="post-toc-text">02 åŸƒæ°ç­›æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E7%BA%BF%E6%80%A7%E7%AD%9B"><span class="post-toc-text">03 çº¿æ€§ç­›</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%BF%AB%E9%80%9F%E5%B9%82"><span class="post-toc-text">å¿«é€Ÿå¹‚</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92"><span class="post-toc-text">åŠ¨æ€è§„åˆ’</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">èƒŒåŒ…é—®é¢˜</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01%E8%83%8C%E5%8C%85"><span class="post-toc-text">01èƒŒåŒ…</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E7%A1%AC%E5%B8%81%E6%89%BE%E9%9B%B6"><span class="post-toc-text">02 ç¡¬å¸æ‰¾é›¶</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#03-%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85"><span class="post-toc-text">03 å®Œå…¨èƒŒåŒ…</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#04-%E6%95%B4%E6%95%B0%E5%88%86%E8%A7%A3"><span class="post-toc-text">04 æ•´æ•°åˆ†è§£</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#05-%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85"><span class="post-toc-text">05 å¤šé‡èƒŒåŒ…*</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%88%97%E5%92%8C"><span class="post-toc-text">æœ€å¤§å­åºåˆ—å’Œ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="post-toc-text">æœ€é•¿å…¬å…±å­åºåˆ—</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#01-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97"><span class="post-toc-text">01 æœ€é•¿å…¬å…±å­åºåˆ—</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#02-%E5%8F%98%E7%A7%8D-%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E5%8C%B9%E9%85%8D%E5%A4%9A%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="post-toc-text">02 å˜ç§(ä¸€ä¸ªå­—ç¬¦åŒ¹é…å¤šä¸ªå­—ç¬¦)</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A8%A1%E5%9E%8B"><span class="post-toc-text">çŠ¶æ€æœºæ¨¡å‹</span></a></li></ol></li></ol>
            
        
        <div class=".article-gallery"><blockquote>
<p>ä¹‹å‰æŠŠæµ™å¤§PATç”²çº§é¢˜åº“åˆ·å®Œäº†ï¼Œæ•´ç†ä¸€ä¸‹PATçš„è€ƒç‚¹</p>
<p>é¢˜ç›®æ¥æºäºACwingç½‘ç«™</p>
</blockquote>
<span id="more"></span>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a><strong>å­—ç¬¦ä¸²</strong></h2><h3 id="å­—ç¬¦ä¸²ç±»å‹è½¬æ¢"><a href="#å­—ç¬¦ä¸²ç±»å‹è½¬æ¢" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹è½¬æ¢"></a>å­—ç¬¦ä¸²ç±»å‹è½¬æ¢</h3><h4 id="01-to-string"><a href="#01-to-string" class="headerlink" title="01 to_string()"></a>01 to_string()</h4><p>è¿™ä¸ªå¤ªå¸¸ç”¨äº†ä¸å¤šè¯´äº†</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">double</span> b = <span class="number">3.14</span>;</span><br><span class="line">string str1, str2;</span><br><span class="line">str1 = <span class="built_in">to_string</span>(a);</span><br><span class="line">str2 = <span class="built_in">to_string</span>(b);</span><br><span class="line">cout &lt;&lt; str1 &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; str2 &lt;&lt; endl;</span><br></pre></td></tr></table></figure>
<h4 id="02-stoi-å’Œatoi"><a href="#02-stoi-å’Œatoi" class="headerlink" title="02 stoi()å’Œatoi()"></a>02 stoi()å’Œatoi()</h4><p>C++11åŒ…å«åœ¨#includeã€‚ä½œç”¨æ˜¯å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºintå‹ã€‚åŒºåˆ«æ˜¯stoiçš„å½¢å‚ç›´æ¥ä¼ å…¥stringç±»å‹å³å¯ï¼Œè€Œatoiçš„å½¢å‚æ˜¯const char*</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">s1</span><span class="params">(<span class="string">&quot;1234567&quot;</span>)</span></span>;</span><br><span class="line"><span class="keyword">char</span>* s2 = <span class="string">&quot;1234567&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> a = <span class="built_in">stoi</span>(s1);</span><br><span class="line"><span class="keyword">int</span> b = <span class="built_in">atoi</span>(s2);</span><br><span class="line">cout &lt;&lt; a &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; b &lt;&lt; endl;</span><br></pre></td></tr></table></figure>
<p>è¿›åŒ–ç‰ˆï¼šstol(),stoll(),stoul(),stoull(),atol(),atoll(),atoul(),atoull()</p>
<p>lä¸ºlong intï¼Œllä¸ºlong longï¼Œulä¸ºunsigned long intï¼Œullä¸ºunsigned long long</p>
<h4 id="03-stringç±»çš„æ–¹æ³•c-str"><a href="#03-stringç±»çš„æ–¹æ³•c-str" class="headerlink" title="03 stringç±»çš„æ–¹æ³•c_str()"></a>03 stringç±»çš„æ–¹æ³•c_str()</h4><p>c_str()å°±æ˜¯å°†C++çš„stringè½¬åŒ–ä¸ºCçš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œc_str()ç”Ÿæˆä¸€ä¸ªconst char *æŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸²çš„é¦–åœ°å€ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> *p=s[<span class="number">10</span>];</span><br><span class="line">string a=â€œwelcomeâ€;</span><br><span class="line"><span class="built_in">strcpy</span>(p,a.<span class="built_in">c_str</span>());</span><br><span class="line">cout&lt;&lt;p;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœéœ€è¦ä½¿ç”¨Cè¯­è¨€printfçš„æ ¼å¼åŒ–è¾“å‡ºstringæ—¶å¯ä»¥ä½¿ç”¨ï¼Œå¾ˆæ–¹ä¾¿ï¼Œæ¯”å¦‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string name=<span class="string">&quot;PAT&quot;</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,name.<span class="built_in">c_str</span>());</span><br></pre></td></tr></table></figure>
<h4 id="04-stringç±»çš„æ–¹æ³•find"><a href="#04-stringç±»çš„æ–¹æ³•find" class="headerlink" title="04 stringç±»çš„æ–¹æ³•find()"></a>04 stringç±»çš„æ–¹æ³•find()</h4><p>åœ¨stringä¸­æ‰¾åˆ°ç›®æ ‡å­—ç¬¦çš„ä½ç½®ï¼Œè¿”å›æ•°ç»„ä¸‹æ ‡</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">cout &lt;&lt; s.<span class="built_in">find</span>(<span class="string">&quot;e&quot;</span>) &lt;&lt; endl;<span class="comment">//ç»“æœä¸º1</span></span><br></pre></td></tr></table></figure>
<p>æœªæ‰¾åˆ°ä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„æ ‡å¿—npos(ä¸€ä¸ªå¾ˆå¤§çš„æ•°å­—)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (s.<span class="built_in">find</span>(<span class="string">&quot;a&quot;</span>) == s.npos)</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;not found&quot;</span> &lt;&lt; endl;</span><br></pre></td></tr></table></figure>
<p>ä»æŒ‡å®šä½ç½®å¼€å§‹æŸ¥æ‰¾</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="comment">//ä»ä¸‹æ ‡ä¸º5çš„æ•°ç»„ä½ç½®å¼€å§‹æŸ¥æ‰¾(ä¹Ÿå°±æ˜¯å¿½ç•¥å‰é¢çš„)</span></span><br><span class="line">cout &lt;&lt; s.<span class="built_in">find</span>(<span class="string">&quot;l&quot;</span>,<span class="number">5</span>) &lt;&lt; endl;<span class="comment">//ç»“æœä¸º9</span></span><br></pre></td></tr></table></figure>
<h4 id="05-stringç±»çš„æ–¹æ³•substr"><a href="#05-stringç±»çš„æ–¹æ³•substr" class="headerlink" title="05 stringç±»çš„æ–¹æ³•substr()"></a>05 stringç±»çš„æ–¹æ³•substr()</h4><p>æˆªå–å­ä¸²</p>
<p>å•å‚æ•°å½¢å¼(ç»™å‡ºæˆªå–å¼€å§‹çš„ä½ç½®ï¼Œæœ«å°¾é»˜è®¤ä¸ºåŸstringæœ«å°¾)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">s</span><span class="params">(<span class="string">&quot;12345abcd&quot;</span>)</span></span>;</span><br><span class="line">string a = s.<span class="built_in">substr</span>(<span class="number">5</span>);<span class="comment">//è·å¾—å­—ç¬¦ä¸²sä¸­ä»ä¸‹æ ‡ä¸º5å¼€å§‹ä¸€ç›´åˆ°æœ«å°¾çš„å­—ç¬¦ä¸²</span></span><br><span class="line">cout &lt;&lt; a &lt;&lt; endl;<span class="comment">//ç»“æœä¸ºabcd</span></span><br></pre></td></tr></table></figure>
<p>åŒå‚æ•°å½¢å¼(ç»™å‡ºæˆªå–å¼€å§‹çš„ä½ç½®ï¼Œå¹¶ç»™å‡ºæˆªå–é•¿åº¦)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">s</span><span class="params">(<span class="string">&quot;12345abcd&quot;</span>)</span></span>;</span><br><span class="line">string a = s.<span class="built_in">substr</span>(<span class="number">0</span>,<span class="number">5</span>);<span class="comment">//è·å¾—å­—ç¬¦ä¸²sä¸­ä»ä¸‹æ ‡ä¸º0å¼€å§‹çš„é•¿åº¦ä¸º5çš„å­—ç¬¦ä¸²</span></span><br><span class="line">cout &lt;&lt; a &lt;&lt; endl;<span class="comment">//ç»“æœä¸º12345</span></span><br></pre></td></tr></table></figure>
<h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><p>ç»™å®šä¸€ä¸ªæ¨¡å¼ä¸²Sï¼Œä»¥åŠä¸€ä¸ªæ¨¡æ¿ä¸²Pï¼Œæ‰€æœ‰å­—ç¬¦ä¸²ä¸­åªåŒ…å«å¤§å°å†™è‹±æ–‡å­—æ¯ä»¥åŠé˜¿æ‹‰ä¼¯æ•°å­—ã€‚</p>
<p>æ¨¡æ¿ä¸²Påœ¨æ¨¡å¼ä¸²Sä¸­å¤šæ¬¡ä½œä¸ºå­ä¸²å‡ºç°ã€‚</p>
<p>æ±‚å‡ºæ¨¡æ¿ä¸²Påœ¨æ¨¡å¼ä¸²Sä¸­æ‰€æœ‰å‡ºç°çš„ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•°Nï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²Pçš„é•¿åº¦ã€‚</p>
<p>ç¬¬äºŒè¡Œè¾“å…¥å­—ç¬¦ä¸²Pã€‚</p>
<p>ç¬¬ä¸‰è¡Œè¾“å…¥æ•´æ•°Mï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²Sçš„é•¿åº¦ã€‚</p>
<p>ç¬¬å››è¡Œè¾“å…¥å­—ç¬¦ä¸²Sã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>å…±ä¸€è¡Œï¼Œè¾“å‡ºæ‰€æœ‰å‡ºç°ä½ç½®çš„èµ·å§‹ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä»0å¼€å§‹è®¡æ•°ï¼‰ï¼Œæ•´æ•°ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>1â‰¤Nâ‰¤10^5<br>1â‰¤Mâ‰¤10^6</p>
<p><strong>è¾“å…¥æ ·ä¾‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">aba</span><br><span class="line">5</span><br><span class="line">ababa</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 2</span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç </strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1e6</span>+<span class="number">10</span>,M=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> t[N],p[M];</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">build</span><span class="params">(<span class="keyword">char</span> *p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *ne=<span class="keyword">new</span> <span class="keyword">int</span>[m];</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">-1</span>;</span><br><span class="line">    ne[<span class="number">0</span>]=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;m<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(j&lt;<span class="number">0</span>||p[i]==p[j])&#123;</span><br><span class="line">            i++,j++;</span><br><span class="line">            ne[i]=j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> j=ne[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ne;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">match</span><span class="params">(<span class="keyword">char</span> *t,<span class="keyword">char</span>* p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *ne=<span class="built_in">build</span>(p);</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;n)&#123;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;m&amp;&amp;i&lt;n)</span><br><span class="line">            <span class="keyword">if</span>(j&lt;<span class="number">0</span>||t[i]==p[j])</span><br><span class="line">                i++,j++;</span><br><span class="line">            <span class="keyword">else</span> j=ne[j];</span><br><span class="line">        <span class="keyword">if</span>(j==m)&#123;    </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i-j);</span><br><span class="line">            i--;</span><br><span class="line">            j=ne[j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%s%d%s&quot;</span>,&amp;m,p,&amp;n,t);</span><br><span class="line">    <span class="built_in">match</span>(t,p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a><strong>æ’åº</strong></h2><p>PATå¸¸è€ƒçš„æ’åæ–¹å¼(åŒåˆ†å¸ƒæ’å)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!i||a[i].grade!=a[i<span class="number">-1</span>].grade)</span><br><span class="line">      a[i].rank=i+<span class="number">1</span>;</span><br><span class="line">   <span class="keyword">else</span> a[i].rank=a[i<span class="number">-1</span>].rank;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å †æ’åº"><a href="#å †æ’åº" class="headerlink" title="å †æ’åº"></a>å †æ’åº</h3><p>è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•´æ•°æ•°åˆ—ï¼Œä»å°åˆ°å¤§è¾“å‡ºå‰må°çš„æ•°ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°nå’Œmã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>å…±ä¸€è¡Œï¼ŒåŒ…å«mä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ä¸­å‰må°çš„æ•°ã€‚</p>
<p><strong>è¾“å…¥æ ·ä¾‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5 3</span><br><span class="line">4 5 1 3 2</span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br></pre></td></tr></table></figure>
<p><strong>ä»£ç </strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> h[maxn],size;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">down</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t=x;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">2</span>*x&lt;=size&amp;&amp;h[<span class="number">2</span>*x]&lt;h[t]) t=<span class="number">2</span>*x;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">2</span>*x+<span class="number">1</span>&lt;=size&amp;&amp;h[<span class="number">2</span>*x+<span class="number">1</span>]&lt;h[t]) t=<span class="number">2</span>*x+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(t!=x)&#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[t],h[x]);</span><br><span class="line">        <span class="built_in">down</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">up</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(x/<span class="number">2</span>&amp;&amp;h[x]&lt;h[x/<span class="number">2</span>])&#123;</span><br><span class="line">        <span class="built_in">swap</span>(h[x],h[x/<span class="number">2</span>]);</span><br><span class="line">        x/=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    size=n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;h[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n/<span class="number">2</span>;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">        <span class="built_in">down</span>(i);</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,h[<span class="number">1</span>]);</span><br><span class="line">        h[<span class="number">1</span>]=h[size--];</span><br><span class="line">        <span class="built_in">down</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><p>è¿™é‡Œé»˜è®¤ä¸ºå‡åºæ’åºï¼Œé™åºåªè¦å¯¹æ¯”è¾ƒçš„ç¬¦å·è¿›è¡Œè°ƒæ•´å°±å¯ä»¥äº†</p>
<p>å¿«é€Ÿæ’åºåˆ†ä¸ºä¸‰ä¸ªè¿‡ç¨‹ï¼š</p>
<ol>
<li>å°†æ•°åˆ—åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆä¸æ˜¯ç›´æ¥åˆ†ï¼Œè¦æ±‚ä¿è¯ç›¸å¯¹å¤§å°å…³ç³»ï¼‰</li>
<li>é€’å½’åˆ°ä¸¤ä¸ªå­åºåˆ—ä¸­åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åº</li>
<li>ä¸ç”¨åˆå¹¶ï¼Œå› ä¸ºæ­¤æ—¶æ•°åˆ—å·²ç»å®Œå…¨æœ‰åº</li>
</ol>
<p>é¦–å…ˆå¯¹äºç¬¬ä¸€æ­¥æ¥è¯´æˆ‘ä»¬éœ€è¦å…ˆæ‰¾åˆ°ä¸€ä¸ªåŸºå‡†å€¼ï¼ˆåŸºå‡†å€¼ç”¨äºå°†æ•´ä¸ªæ•°ç»„åˆ‡åˆ†æˆå°å’Œå¤§ä¸¤éƒ¨åˆ†ï¼‰</p>
<p>ç„¶åä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆå’Œæ¥è¿›è¡Œæ“ä½œï¼Œå¤§æ¦‚åŸç†å°±æ˜¯å…ˆå°†æŒ‡å‘çš„ä½ç½®ï¼ŒæŒ‡å‘çš„ä½ç½®ï¼Œç„¶åä½¿ç”¨do whileå¾ªç¯ä½¿iæŒ‡é’ˆç–¯ç‹‚å‘å‰ç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å€¼å¤§çš„æ•°å­—åœä¸‹ï¼Œæ¥ä¸‹æ¥å¯¹jæŒ‡é’ˆä¹ŸåŒæ ·æ“ä½œä½¿å…¶åœåœ¨ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å€¼å°çš„æ•°å€¼ä¸Šï¼Œç„¶åäº’æ¢ï¼Œçš„æ•°å­—ã€‚ä¸€ç›´æ“ä½œåˆ°ijæŒ‡é’ˆç›¸é‡ï¼Œé‚£ä¹ˆç”±äºå¯¹ä¸€è·¯ä¸Šä¸ç¬¦åˆæ¡ä»¶çš„æ•°å­—éƒ½è¿›è¡Œäº†äº’æ¢ï¼Œæ‰€ä»¥iå’Œjç›¸é‡çš„å°±æ˜¯æ•´ä¸ªæ•°ç»„çš„åˆ‡åˆ†ç‚¹ã€‚</p>
<p>OKæˆ‘ä»¬æ‰¾åˆ°äº†åˆ‡åˆ†ç‚¹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é€’å½’æ“ä½œ(l,j),(j+1,r)äº†</p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼šå½“åˆ‡åˆ†ç‚¹å–a[l]æ—¶ï¼Œé€’å½’å–(l,j),(j+1,r)ã€‚å½“åˆ‡åˆ†ç‚¹å–a[r]æ—¶ï¼Œé€’å½’å–(l,i-1),(i,r)ã€‚å½“åˆ‡åˆ†ç‚¹å…¶ä½™æ•°å­—æ—¶ï¼Œé€’å½’äºŒè€…çš†å¯(é¿å…å‡ºç°æ­»å¾ªç¯)</strong></p>
<p>æ¯ä¸ªé€’å½’ç›´åˆ°l&gt;=råœæ­¢ï¼Œå› ä¸ºä¸€ä¸ªç‚¹æ˜¯ä¸éœ€è¦å†â€œåˆ’åˆ†â€çš„</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[maxn],n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> x=a[l],i=l<span class="number">-1</span>,j=r+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">        <span class="keyword">do</span> i++; <span class="keyword">while</span>(a[i]&lt;x);</span><br><span class="line">        <span class="keyword">do</span> j--; <span class="keyword">while</span>(a[j]&gt;x);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;j) <span class="built_in">swap</span>(a[i],a[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">quick_sort</span>(l,j);</span><br><span class="line">    <span class="built_in">quick_sort</span>(j+<span class="number">1</span>,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">quick_sort</span>(<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çº¿æ€§ç¬¬Kå¤§-å¿«æ’æ€æƒ³åº”ç”¨"><a href="#çº¿æ€§ç¬¬Kå¤§-å¿«æ’æ€æƒ³åº”ç”¨" class="headerlink" title="çº¿æ€§ç¬¬Kå¤§(å¿«æ’æ€æƒ³åº”ç”¨)"></a>çº¿æ€§ç¬¬Kå¤§(å¿«æ’æ€æƒ³åº”ç”¨)</h3><p>æ‰¾ç¬¬ k å¤§çš„æ•°ï¼ˆK-th order statisticï¼‰ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å…ˆæ’åºï¼Œç„¶åç›´æ¥æ‰¾åˆ°ç¬¬ k å¤§çš„ä½ç½®çš„å…ƒç´ ã€‚è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜æ¥è¯´å¾ˆä¸åˆ’ç®—ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬æœ‰æ—¶é—´å¤æ‚åº¦ çš„è§£æ³•ã€‚</p>
<p>è€ƒè™‘å¿«é€Ÿæ’åºçš„åˆ’åˆ†è¿‡ç¨‹ï¼Œåœ¨å¿«é€Ÿæ’åºçš„â€œåˆ’åˆ†â€ç»“æŸåï¼Œæˆ‘ä»¬ä¼šå°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥kæ˜¯å¦è½åœ¨å·¦è¾¹çš„èŒƒå›´å†…æ¥å‡å°‘å¤æ‚åº¦ï¼Œåœ¨æ’åºçš„é€”ä¸­è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå½“ç„¶è¿™æ—¶å€™å¿«æ’å°±ä¸ä¼šå…¨éƒ¨æ’å®Œäº†ï¼Œè€Œæ˜¯æ‰¾åˆ°äº†kå°±ä¸­é€”é€€å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e5+10;</span><br><span class="line"></span><br><span class="line">int a[maxn];</span><br><span class="line"></span><br><span class="line">int quick_sort(int l,int r,int k)&#123;</span><br><span class="line">    if(l==r&amp;&amp;l==k) return a[k];</span><br><span class="line">    int x=a[l],i=l-1,j=r+1;</span><br><span class="line">    while(i&lt;j)&#123;</span><br><span class="line">        do i++; while(a[i]&lt;x);</span><br><span class="line">        do j--; while(a[j]&gt;x);</span><br><span class="line">        if(i&lt;j) swap(a[i],a[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    if(l&lt;=k&amp;&amp;k&lt;=j) quick_sort(l,j,k);</span><br><span class="line">    else quick_sort(j+1,r,k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,k;</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;k);</span><br><span class="line">    for(int i=0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;a[i]);</span><br><span class="line">    printf(&quot;%d\n&quot;,quick_sort(0,n-1,k-1));</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><p>å½’å¹¶æ’åºæ˜¯ä¸€ç§é‡‡ç”¨äº† <strong>åˆ†æ²»</strong> æ€æƒ³çš„æ’åºç®—æ³•ï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ç§ <strong>CDQ åˆ†æ²»</strong>ã€‚</p>
<p>å½’å¹¶æ’åºåˆ†ä¸ºä¸‰ä¸ªè¿‡ç¨‹ï¼š</p>
<ol>
<li>å°†æ•°åˆ—éšæ„åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆåœ¨å‡åŒ€åˆ’åˆ†æ—¶æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)ï¼‰</li>
<li>é€’å½’åœ°åˆ†åˆ«å¯¹ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œå½’å¹¶æ’åº</li>
<li>åˆå¹¶ä¸¤ä¸ªå­åºåˆ—</li>
</ol>
<p>ä¸éš¾å‘ç°ï¼Œå½’å¹¶æ’åºçš„æ ¸å¿ƒæ˜¯å¦‚ä½•åˆå¹¶ä¸¤ä¸ªå­åºåˆ—ï¼Œå‰ä¸¤æ­¥éƒ½å¾ˆå¥½å®ç°ã€‚</p>
<p>å…¶å®åˆå¹¶çš„æ—¶å€™ä¹Ÿä¸éš¾æ“ä½œã€‚æ³¨æ„åˆ°ä¸¤ä¸ªå­åºåˆ—åœ¨ç¬¬äºŒæ­¥ä¸­å·²ç»ä¿è¯äº†éƒ½æ˜¯æœ‰åºçš„äº†ï¼Œç¬¬ä¸‰æ­¥ä¸­å®é™…ä¸Šæ˜¯æƒ³è¦æŠŠä¸¤ä¸ª <strong>æœ‰åº</strong> çš„åºåˆ—åˆå¹¶èµ·æ¥ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[maxn],t[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">merge_sort</span>(l,mid);</span><br><span class="line">    <span class="built_in">merge_sort</span>(mid+<span class="number">1</span>,r);</span><br><span class="line">    <span class="keyword">int</span> i=l,j=mid+<span class="number">1</span>,k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=r)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;=a[j]) t[k++]=a[i++];</span><br><span class="line">        <span class="keyword">else</span> t[k++]=a[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid) t[k++]=a[i++];</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=r) t[k++]=a[j++];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=l,j=<span class="number">0</span>;j&lt;k;i++,j++)</span><br><span class="line">        a[i]=t[j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">merge_sort</span>(<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­æ’å…¥æ’åº"><a href="#åˆ¤æ–­æ’å…¥æ’åº" class="headerlink" title="åˆ¤æ–­æ’å…¥æ’åº"></a>åˆ¤æ–­æ’å…¥æ’åº</h3><p>PATå‡ºè¿‡ä¸¤æ¬¡çš„è€ƒç‚¹ï¼Œåˆ¤æ–­ä¸€ä¸ªæ’åˆ°ä¸€åŠçš„æ’åºæ˜¯å¦æ˜¯æ’å…¥æ’åºè¿˜æ˜¯åˆ«çš„æ’åºï¼ˆPATä¼šä¿è¯ç­”æ¡ˆå”¯ä¸€ï¼‰</p>
<p>ä¸€èˆ¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°†æ•°ç»„åˆ†æˆä¸¤æ®µï¼Œä¸€æ®µæ˜¯æ’å¥½åºçš„ï¼ˆéé™åºï¼‰ï¼Œå¦ä¸€æ®µæ˜¯æ²¡æœ‰æ’å¥½åºçš„ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ²¡æ’åºçš„é‚£ä¸€æ®µçš„èµ·ç‚¹ï¼Œå¾€ä¸‹æ¯”å¯¹æ˜¯å¦ä¸åŸæ•°ç»„ç›¸åŒå³å¯ï¼Œä¸åŒå°±ä¸æ˜¯æ’å…¥æ’åºï¼ˆå› ä¸ºæ’å…¥æ’åºæ˜¯ä¸ä¼šæ”¹å˜æœªæ’åºçš„æ•°ç»„å…ƒç´ çš„é¡ºåºçš„ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;b[i];</span><br><span class="line"><span class="keyword">int</span> p=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span>(p&lt;=n&amp;&amp;b[p]&gt;=b[p<span class="number">-1</span>]) p++;</span><br><span class="line"><span class="keyword">int</span> k=p;</span><br><span class="line"><span class="keyword">while</span>(p&lt;=n&amp;&amp;a[p]==b[p]) p++;</span><br><span class="line"><span class="keyword">if</span>(p==n+<span class="number">1</span>)&#123;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;Insertion Sort&quot;</span>);</span><br><span class="line">  <span class="keyword">while</span>(k&gt;<span class="number">1</span>&amp;&amp;b[k]&lt;b[k<span class="number">-1</span>]) <span class="built_in">swap</span>(b[k],b[k<span class="number">-1</span>]),k--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒåˆ†"><a href="#äºŒåˆ†" class="headerlink" title="äºŒåˆ†"></a><strong>äºŒåˆ†</strong></h2><h3 id="æ•´æ•°äºŒåˆ†"><a href="#æ•´æ•°äºŒåˆ†" class="headerlink" title="æ•´æ•°äºŒåˆ†"></a>æ•´æ•°äºŒåˆ†</h3><p>äºŒåˆ†æœç´¢ï¼Œä¹Ÿç§°æŠ˜åŠæœç´¢ã€äºŒåˆ†æŸ¥æ‰¾ï¼Œæ˜¯ç”¨æ¥åœ¨ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾æŸä¸€å…ƒç´ çš„ç®—æ³•ã€‚</p>
<p>ä»¥åœ¨ä¸€ä¸ªå‡åºæ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°ä¸ºä¾‹ã€‚</p>
<p>å®ƒæ¯æ¬¡è€ƒå¯Ÿæ•°ç»„å½“å‰éƒ¨åˆ†çš„ä¸­é—´å…ƒç´ ï¼Œå¦‚æœä¸­é—´å…ƒç´ åˆšå¥½æ˜¯è¦æ‰¾çš„ï¼Œå°±ç»“æŸæœç´¢è¿‡ç¨‹ï¼›å¦‚æœä¸­é—´å…ƒç´ å°äºæ‰€æŸ¥æ‰¾çš„å€¼ï¼Œé‚£ä¹ˆå·¦ä¾§çš„åªä¼šæ›´å°ï¼Œä¸ä¼šæœ‰æ‰€æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåªéœ€è¦åˆ°å³ä¾§å»æ‰¾å°±å¥½äº†ï¼›å¦‚æœä¸­é—´å…ƒç´ å¤§äºæ‰€æŸ¥æ‰¾çš„å€¼ï¼ŒåŒç†ï¼Œå³ä¾§çš„åªä¼šæ›´å¤§è€Œä¸ä¼šæœ‰æ‰€æŸ¥æ‰¾çš„å…ƒç´ ï¼Œæ‰€ä»¥åªéœ€è¦åˆ°å·¦ä¾§å»æ‰¾ã€‚</p>
<p>åœ¨äºŒåˆ†æœç´¢è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡éƒ½æŠŠæŸ¥è¯¢çš„åŒºé—´å‡åŠï¼Œå› æ­¤å¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œè‡³å¤šä¼šè¿›è¡ŒO(logn)æ¬¡æŸ¥æ‰¾ã€‚</p>
<p>ä¸‹é¢æ˜¯ç¬¬ä¸€ç§æ•´æ•°äºŒåˆ†å½¢å¼ï¼Œ<strong>ç”¨äºæ‰¾åˆ°&gt;=xçš„åŒºé—´çš„ç¬¬ä¸€ä¸ªæ•°</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">bool check(int x) &#123;/* ... */&#125; // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span><br><span class="line"></span><br><span class="line">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š</span><br><span class="line">int bsearch_1(int l, int r)</span><br><span class="line">&#123;</span><br><span class="line">    while (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        int mid = l + r &gt;&gt; 1;</span><br><span class="line">        if (check(mid)) r = mid;    // check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨</span><br><span class="line">        else l = mid + 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ˜¯ç¬¬äºŒç§æ•´æ•°äºŒåˆ†å½¢å¼ï¼Œ<strong>ç”¨äºæ‰¾åˆ°&lt;=xçš„æœ€åä¸€ä¸ªæ•°</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">bool check(int x) &#123;/* ... */&#125; // æ£€æŸ¥xæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span><br><span class="line"></span><br><span class="line">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š</span><br><span class="line">int bsearch_2(int l, int r)</span><br><span class="line">&#123;</span><br><span class="line">    while (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        int mid = l + r + 1 &gt;&gt; 1;</span><br><span class="line">        if (check(mid)) l = mid;</span><br><span class="line">        else r = mid - 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return l;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a><strong>é“¾è¡¨</strong></h2><h3 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e5+10;</span><br><span class="line"></span><br><span class="line">int e[maxn],ne[maxn],head,idx;</span><br><span class="line"></span><br><span class="line">void init()&#123;</span><br><span class="line">    head=-1;</span><br><span class="line">    idx=0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void add_to_head(int x)&#123;</span><br><span class="line">    e[idx]=x;</span><br><span class="line">    ne[idx]=head;</span><br><span class="line">    head=idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void add(int k,int x)&#123;</span><br><span class="line">    e[idx]=x;</span><br><span class="line">    ne[idx]=ne[k];</span><br><span class="line">    ne[k]=idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void remove(int k)&#123;</span><br><span class="line">    ne[k]=ne[ne[k]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,k,x;</span><br><span class="line">    char c;</span><br><span class="line">    init();</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    while(n--)&#123;</span><br><span class="line">        cin&gt;&gt;c;</span><br><span class="line">        if(c==&#x27;H&#x27;)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            add_to_head(x);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(c==&#x27;I&#x27;)&#123;</span><br><span class="line">            cin&gt;&gt;k&gt;&gt;x;</span><br><span class="line">            add(k-1,x);</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            cin&gt;&gt;k;</span><br><span class="line">            if(!k) head=ne[head];</span><br><span class="line">            else remove(k-1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=head;i!=-1;i=ne[i])&#123;</span><br><span class="line">        if(i!=head) cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">        cout &lt;&lt; e[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e5+10;</span><br><span class="line"></span><br><span class="line">int l[maxn],r[maxn],e[maxn],idx;</span><br><span class="line"></span><br><span class="line">void init()&#123;</span><br><span class="line">    r[0]=1;</span><br><span class="line">    l[1]=0;</span><br><span class="line">    idx=2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void insertR(int k,int x)&#123;</span><br><span class="line">    e[idx]=x;</span><br><span class="line">    l[idx]=k;</span><br><span class="line">    r[idx]=r[k];</span><br><span class="line">    l[r[k]]=idx;</span><br><span class="line">    r[k]=idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void insertL(int k,int x)&#123;</span><br><span class="line">    insertR(l[k],x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void addL(int x)&#123;</span><br><span class="line">    insertR(0,x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void addR(int x)&#123;</span><br><span class="line">    insertL(1,x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void remove(int k)&#123;</span><br><span class="line">    r[l[k]]=r[k];</span><br><span class="line">    l[r[k]]=l[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,k,x;</span><br><span class="line">    string s;</span><br><span class="line">    init();</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    while(n--)&#123;</span><br><span class="line">        cin&gt;&gt;s;</span><br><span class="line">        if(s==&quot;L&quot;)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            addL(x);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(s==&quot;R&quot;)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            addR(x);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(s==&quot;D&quot;)&#123;</span><br><span class="line">            cin&gt;&gt;k;</span><br><span class="line">            remove(k+1);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(s==&quot;IL&quot;)&#123;</span><br><span class="line">            cin&gt;&gt;k&gt;&gt;x;</span><br><span class="line">            insertL(k+1,x);</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            cin&gt;&gt;k&gt;&gt;x;</span><br><span class="line">            insertR(k+1,x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=r[0];i!=1;i=r[i])&#123;</span><br><span class="line">        if(i!=r[0]) cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">        cout &lt;&lt; e[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br></pre></td></tr></table></figure>
<h2 id="æ ˆå’Œé˜Ÿåˆ—"><a href="#æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="æ ˆå’Œé˜Ÿåˆ—"></a><strong>æ ˆå’Œé˜Ÿåˆ—</strong></h2><h3 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a>å•è°ƒæ ˆ</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•´æ•°æ•°åˆ—ï¼Œè¾“å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º-1ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•°Nï¼Œè¡¨ç¤ºæ•°åˆ—é•¿åº¦ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•´æ•°æ•°åˆ—ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>å…±ä¸€è¡Œï¼ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°è¡¨ç¤ºç¬¬iä¸ªæ•°çš„å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º-1ã€‚</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3 4 2 7 5</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1 3 -1 2 2</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e5+10;</span><br><span class="line"></span><br><span class="line">int s[maxn],t;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,x;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    while(n--)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        while(t&amp;&amp;s[t-1]&gt;=x) t--;</span><br><span class="line">        if(t) printf(&quot;%d &quot;,s[t-1]);</span><br><span class="line">        else printf(&quot;-1 &quot;);</span><br><span class="line">        s[t++]=x;</span><br><span class="line">    &#125;</span><br><span class="line">    puts(&quot;&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å•è°ƒé˜Ÿåˆ—"><a href="#å•è°ƒé˜Ÿåˆ—" class="headerlink" title="å•è°ƒé˜Ÿåˆ—"></a>å•è°ƒé˜Ÿåˆ—</h3><p>ç»™å®šä¸€ä¸ªå¤§å°ä¸ºnâ‰¤10^6çš„æ•°ç»„ã€‚</p>
<p>æœ‰ä¸€ä¸ªå¤§å°ä¸ºkçš„æ»‘åŠ¨çª—å£ï¼Œå®ƒä»æ•°ç»„çš„æœ€å·¦è¾¹ç§»åŠ¨åˆ°æœ€å³è¾¹ã€‚</p>
<p>æ‚¨åªèƒ½åœ¨çª—å£ä¸­çœ‹åˆ°kä¸ªæ•°å­—ã€‚</p>
<p>æ¯æ¬¡æ»‘åŠ¨çª—å£å‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>è¯¥æ•°ç»„ä¸º[1 3 -1 -3 5 3 6 7]ï¼Œkä¸º3ã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:left">çª—å£ä½ç½®</th>
<th style="text-align:left">æœ€å°å€¼</th>
<th style="text-align:left">æœ€å¤§å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">[1 3 -1] -3 5 3 6 7</td>
<td style="text-align:left">-1</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">1 [3 -1 -3] 5 3 6 7</td>
<td style="text-align:left">-3</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">1 3 [-1 -3 5] 3 6 7</td>
<td style="text-align:left">-3</td>
<td style="text-align:left">5</td>
</tr>
<tr>
<td style="text-align:left">1 3 -1 [-3 5 3] 6 7</td>
<td style="text-align:left">-3</td>
<td style="text-align:left">5</td>
</tr>
<tr>
<td style="text-align:left">1 3 -1 -3 [5 3 6] 7</td>
<td style="text-align:left">3</td>
<td style="text-align:left">6</td>
</tr>
<tr>
<td style="text-align:left">1 3 -1 -3 5 [3 6 7]</td>
<td style="text-align:left">3</td>
<td style="text-align:left">7</td>
</tr>
</tbody>
</table>
<p>æ‚¨çš„ä»»åŠ¡æ˜¯ç¡®å®šæ»‘åŠ¨çª—å£ä½äºæ¯ä¸ªä½ç½®æ—¶ï¼Œçª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>è¾“å…¥åŒ…å«ä¸¤è¡Œã€‚</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°nå’Œkï¼Œåˆ†åˆ«ä»£è¡¨æ•°ç»„é•¿åº¦å’Œæ»‘åŠ¨çª—å£çš„é•¿åº¦ã€‚</p>
<p>ç¬¬äºŒè¡Œæœ‰nä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°ç»„çš„å…·ä½“æ•°å€¼ã€‚</p>
<p>åŒè¡Œæ•°æ®ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>è¾“å‡ºåŒ…å«ä¸¤ä¸ªã€‚</p>
<p>ç¬¬ä¸€è¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å°å€¼ã€‚</p>
<p>ç¬¬äºŒè¡Œè¾“å‡ºï¼Œä»å·¦è‡³å³ï¼Œæ¯ä¸ªä½ç½®æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8 3</span><br><span class="line">1 3 -1 -3 5 3 6 7</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-1 -3 -3 -3 3 3</span><br><span class="line">3 3 5 5 6 7</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e6+10;</span><br><span class="line"></span><br><span class="line">int a[maxn],q[maxn],head,rear;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,k;</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;k);</span><br><span class="line">    for(int i=0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;a[i]);</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        if(rear&gt;head&amp;&amp;i-k+1&gt;q[head]) head++;</span><br><span class="line">        while(rear&gt;head&amp;&amp;a[q[rear-1]]&gt;=a[i]) rear--;</span><br><span class="line">        q[rear++]=i;</span><br><span class="line">        if(i-k+1&gt;=0) printf(&quot;%d &quot;,a[q[head]]);</span><br><span class="line">    &#125;</span><br><span class="line">    puts(&quot;&quot;);</span><br><span class="line">    head=rear=0;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        if(rear&gt;head&amp;&amp;i-k+1&gt;q[head]) head++;</span><br><span class="line">        while(rear&gt;head&amp;&amp;a[q[rear-1]]&lt;=a[i]) rear--;</span><br><span class="line">        q[rear++]=i;</span><br><span class="line">        if(i-k+1&gt;=0) printf(&quot;%d &quot;,a[q[head]]);</span><br><span class="line">    &#125;</span><br><span class="line">    puts(&quot;&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a><strong>æ ‘</strong></h2><h3 id="åè½¬äºŒå‰æ ‘"><a href="#åè½¬äºŒå‰æ ‘" class="headerlink" title="åè½¬äºŒå‰æ ‘"></a>åè½¬äºŒå‰æ ‘</h3><p>å¾ˆç®€å•äº†ä¸å¤šè§£é‡Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">void dfs_reverse(int u)&#123;</span><br><span class="line">    if(u==-1) return;</span><br><span class="line">    dfs_reverse(l[u]);</span><br><span class="line">    dfs_reverse(r[u]);</span><br><span class="line">    swap(l[u],r[u]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ„å»ºäºŒå‰æœç´¢æ ‘"><a href="#æ„å»ºäºŒå‰æœç´¢æ ‘" class="headerlink" title="æ„å»ºäºŒå‰æœç´¢æ ‘"></a>æ„å»ºäºŒå‰æœç´¢æ ‘</h3><p>è¿™é‡ŒæŒ‡çš„æ˜¯ä»ç©ºæ ‘ä¸€ä¸ªä¸ªæ’å…¥ç»“ç‚¹æ„å»ºäºŒå‰æœç´¢æ ‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int l[maxn],r[maxn],e[maxn],idx;</span><br><span class="line"></span><br><span class="line">void insert(int&amp; u,int x)&#123;</span><br><span class="line">    if(!u)&#123;</span><br><span class="line">        u=++idx;</span><br><span class="line">        e[u]=x;</span><br><span class="line">    &#125;</span><br><span class="line">    else if(x&lt;=e[u]) insert(l[u],x);//æ³¨æ„é¢˜å¹²ä¸­æ˜¯å°äºè¿˜æ˜¯å°äºç­‰äº</span><br><span class="line">    else insert(r[u],x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘"><a href="#åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘"></a>åˆ¤æ–­å®Œå…¨äºŒå‰æ ‘</h3><p>ç”¨æ•°ç»„å­˜å‚¨ï¼Œçœ‹nä¸ªç»“ç‚¹æ˜¯å¦åˆ†å¸ƒåœ¨1åˆ°nçš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰å°±ä¸æ˜¯å®Œå…¨äºŒå‰æ ‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int l[maxn],r[maxn],cnt[maxn];</span><br><span class="line">int maxk,maxid;</span><br><span class="line"></span><br><span class="line">void dfs(int u,int k)&#123;</span><br><span class="line">    if(u==-1) return;</span><br><span class="line">    if(k&gt;maxk)&#123;</span><br><span class="line">        maxk=k;</span><br><span class="line">        maxid=u;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(l[u],k*2);</span><br><span class="line">    dfs(r[u],k*2+1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    string x,y;</span><br><span class="line">    memset(l,-1,sizeof l);</span><br><span class="line">    memset(r,-1,sizeof r);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        if(x!=&quot;-&quot;) l[i]=stoi(x),cnt[l[i]]++;</span><br><span class="line">        if(y!=&quot;-&quot;) r[i]=stoi(y),cnt[r[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    int root=0;</span><br><span class="line">    while(cnt[root]) root++;</span><br><span class="line">    dfs(root,1);</span><br><span class="line">    if(maxk==n) printf(&quot;YES %d\n&quot;,maxid);</span><br><span class="line">    else printf(&quot;NO %d\n&quot;,root);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="äºŒå‰æ ‘éå†"><a href="#äºŒå‰æ ‘éå†" class="headerlink" title="äºŒå‰æ ‘éå†"></a>äºŒå‰æ ‘éå†</h3><p>é¦–å…ˆæ˜¯å›ºå®šçš„å¥—è·¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;stack&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">struct Node&#123;</span><br><span class="line">    int val;</span><br><span class="line">    Node* lchild,*rchild;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="01-å…ˆåºéå†"><a href="#01-å…ˆåºéå†" class="headerlink" title="01 å…ˆåºéå†"></a>01 å…ˆåºéå†</h4><p>(ä¸‰ç§æ–¹æ³•ï¼Œéš¾åº¦ä»ä½åˆ°é«˜ï¼Œæ€§èƒ½ä»åŠ£åˆ°ä¼˜)</p>
<p>ç¬¬ä¸€ç§ï¼šä½¿ç”¨é€’å½’çš„æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void preorder1(Node *node)&#123;</span><br><span class="line">    if(node==NULL)</span><br><span class="line">        return;</span><br><span class="line">    printf(&quot;%d\n&quot;,node-&gt;val);</span><br><span class="line">    if(node-&gt;lchild!=NULL)</span><br><span class="line">        preorder1(node-&gt;lchild);</span><br><span class="line">    if(node-&gt;rchild!=NULL)</span><br><span class="line">        preorder1(node-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§ï¼šä½¿ç”¨æ ˆè¾…åŠ©é€’å½’é™ä½å¤æ‚åº¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">void preorder2(Node *node)&#123;</span><br><span class="line">    stack&lt;Node*&gt; sta;</span><br><span class="line">    if(node!=NULL)</span><br><span class="line">        sta.push(node);</span><br><span class="line">    while(!sta.empty())&#123;</span><br><span class="line">        Node* p=sta.top();sta.pop();</span><br><span class="line">        printf(&quot;%d\n&quot;,p-&gt;val);</span><br><span class="line">        if(node-&gt;rchild!=NULL)</span><br><span class="line">            sta.push(p-&gt;rchild);</span><br><span class="line">        if(node-&gt;lchild!=NULL)</span><br><span class="line">            preorder2(node-&gt;lchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸‰ç§ï¼šçº¯ç”¨æ ˆéå†ï¼Œæ²¿å·¦å­æ ‘é“¾ä¸‹è¡Œï¼Œé€”ä¸­å°†å³å­æ ‘å‹æ ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">void visitAlongLeftBranch(Node* node,stack&lt;Node*&gt;&amp; sta)&#123;</span><br><span class="line">    while(node!=NULL)&#123;</span><br><span class="line">        printf(&quot;%d\n&quot;,node-&gt;val);</span><br><span class="line">        sta.push(node-&gt;rchild);</span><br><span class="line">        node=node-&gt;lchild;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void preorder3(Node* node)&#123;</span><br><span class="line">    stack&lt;Node*&gt; sta;</span><br><span class="line">    while(true)&#123;</span><br><span class="line">        visitAlongLeftBranch(node,sta);</span><br><span class="line">        if(sta.empty())</span><br><span class="line">            break;</span><br><span class="line">        node=sta.top();</span><br><span class="line">        sta.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-ä¸­åºéå†"><a href="#02-ä¸­åºéå†" class="headerlink" title="02 ä¸­åºéå†"></a>02 ä¸­åºéå†</h4><p>(ä¸¤ç§æ–¹æ³•ï¼Œéš¾åº¦ä»ä½åˆ°é«˜ï¼Œæ€§èƒ½ä»åŠ£åˆ°ä¼˜)</p>
<p>ç¬¬ä¸€ç§ï¼šä½¿ç”¨é€’å½’çš„æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void inorder1(Node* node)&#123;</span><br><span class="line">    if(node==NULL)</span><br><span class="line">        return;</span><br><span class="line">    if(node-&gt;lchild!=NULL)</span><br><span class="line">        inorder1(node-&gt;lchild);</span><br><span class="line">    printf(&quot;%d\n&quot;,node-&gt;val);</span><br><span class="line">    if(node-&gt;rchild!=NULL)</span><br><span class="line">        inorder1(node-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¬¬äºŒç§ï¼šçº¯ç”¨æ ˆéå†ï¼Œå°†å·¦å­æ ‘å‹æ ˆï¼Œä¸€ç›´åˆ°æœ€å·¦è¾¹çš„å¶å­èŠ‚ç‚¹ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹è®¿é—®å¹¶è¿›å…¥å³å­æ ‘ï¼Œåå¤è¯¥è¿‡ç¨‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">void goAlongLeftBranch(Node* node,stack&lt;Node*&gt;&amp; sta)&#123;</span><br><span class="line">    while(node!=NULL) &#123;</span><br><span class="line">        sta.push(node);</span><br><span class="line">        node=node-&gt;lchild;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void inorder2(Node* node)&#123;</span><br><span class="line">    stack&lt;Node*&gt; sta;</span><br><span class="line">    while(true)&#123;</span><br><span class="line">        goAlongLeftBranch(node,sta);</span><br><span class="line">        if(sta.empty())</span><br><span class="line">            break;</span><br><span class="line">        node=sta.top();</span><br><span class="line">        sta.pop();</span><br><span class="line">        printf(&quot;%d\n&quot;,node-&gt;val);</span><br><span class="line">        node=node-&gt;rchild;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-ååºéå†"><a href="#03-ååºéå†" class="headerlink" title="03 ååºéå†"></a>03 ååºéå†</h4><p>(ååºçš„æ ˆè¾…åŠ©æ¯”è¾ƒå¤æ‚ï¼Œä¸å†™äº†)</p>
<p>ä½¿ç”¨é€’å½’çš„æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void postorder(Node *node)&#123;</span><br><span class="line">    if(node==NULL)</span><br><span class="line">        return;</span><br><span class="line">    printf(&quot;%d\n&quot;,node-&gt;val);</span><br><span class="line">    if(node-&gt;rchild!=NULL)</span><br><span class="line">        postorder1(node-&gt;rchild);</span><br><span class="line">    if(node-&gt;lchild!=NULL)</span><br><span class="line">        postorder1(node-&gt;lchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é‡å»ºäºŒå‰æ ‘"><a href="#é‡å»ºäºŒå‰æ ‘" class="headerlink" title="é‡å»ºäºŒå‰æ ‘"></a>é‡å»ºäºŒå‰æ ‘</h3><h4 id="01-å…ˆåº-ååº-ä¸å”¯ä¸€"><a href="#01-å…ˆåº-ååº-ä¸å”¯ä¸€" class="headerlink" title="01 å…ˆåº+ååº(ä¸å”¯ä¸€)"></a>01 å…ˆåº+ååº(ä¸å”¯ä¸€)</h4><p>å‡è®¾ä¸€ä¸ªäºŒå‰æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„æƒå€¼éƒ½äº’ä¸ç›¸åŒã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ååºéå†å’Œä¸­åºéå†æ¥ç¡®å®šå”¯ä¸€äºŒå‰æ ‘ã€‚</p>
<p>ä¹Ÿå¯ä»¥é€šè¿‡å‰åºéå†å’Œä¸­åºéå†æ¥ç¡®å®šå”¯ä¸€äºŒå‰æ ‘ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœåªé€šè¿‡å‰åºéå†å’Œååºéå†ï¼Œåˆ™æœ‰å¯èƒ½æ— æ³•ç¡®å®šå”¯ä¸€äºŒå‰æ ‘ã€‚</p>
<p>ç°åœ¨ï¼Œç»™å®šä¸€ç»„å‰åºéå†å’Œååºéå†ï¼Œè¯·ä½ è¾“å‡ºå¯¹åº”äºŒå‰æ ‘çš„ä¸­åºéå†ã€‚</p>
<p>å¦‚æœæ ‘ä¸æ˜¯å”¯ä¸€çš„ï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€ç§å¯èƒ½æ ‘çš„ä¸­åºéå†å³å¯ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºç»“ç‚¹æ•°é‡ã€‚</p>
<p>ç¬¬äºŒè¡Œç»™å‡ºå‰åºéå†åºåˆ—ã€‚</p>
<p>ç¬¬ä¸‰è¡Œç»™å‡ºååºéå†åºåˆ—ã€‚</p>
<p>ä¸€è¡Œä¸­çš„æ•°å­—éƒ½ç”¨ç©ºæ ¼éš”å¼€ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>é¦–å…ˆç¬¬ä¸€è¡Œï¼Œå¦‚æœæ ‘å”¯ä¸€ï¼Œåˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦‚æœä¸å”¯ä¸€ï¼Œåˆ™è¾“å‡º <code>No</code>ã€‚</p>
<p>ç„¶ååœ¨ç¬¬äºŒè¡Œï¼Œè¾“å‡ºæ ‘çš„ä¸­åºéå†ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœæ ‘ä¸å”¯ä¸€ï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€ç§å¯èƒ½çš„æƒ…å†µå‡å¯ã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Nâ‰¤30</p>
<p>è¾“å…¥æ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">1 2 3 4 6 7 5</span><br><span class="line">2 6 7 4 5 3 1</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Yes</span><br><span class="line">2 1 6 4 7 3 5</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 2 3 4</span><br><span class="line">2 4 3 1</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">2 1 3 4</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<p>ç›´æ¥æš´åŠ›æšä¸¾å·¦å­æ ‘å’Œå³å­æ ‘çš„é•¿åº¦å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=40;</span><br><span class="line"></span><br><span class="line">int pre[maxn],post[maxn];</span><br><span class="line"></span><br><span class="line">int dfs(int l1,int r1,int l2,int r2,string&amp; s)&#123;</span><br><span class="line">    if(l1&gt;r1) return 1;</span><br><span class="line">    if(pre[l1]!=post[r2]) return 0;</span><br><span class="line">    int cnt=0;</span><br><span class="line">    for(int i=l1;i&lt;=r1;i++)&#123;</span><br><span class="line">        string ls,rs;</span><br><span class="line">        int lcnt=dfs(l1+1,i,l2,l2+i-l1-1,ls);</span><br><span class="line">        int rcnt=dfs(i+1,r1,l2+i-l1-1+1,r2-1,rs);</span><br><span class="line">        if(lcnt&amp;&amp;rcnt)&#123;</span><br><span class="line">            s=ls+to_string(pre[l1])+&#x27; &#x27;+rs;</span><br><span class="line">            cnt+=lcnt*rcnt;</span><br><span class="line">            if(cnt&gt;1) break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;pre[i];</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;post[i];</span><br><span class="line">    string s;</span><br><span class="line">    int cnt=dfs(0,n-1,0,n-1,s);</span><br><span class="line">    if(cnt&gt;1) puts(&quot;No&quot;);</span><br><span class="line">    else puts(&quot;Yes&quot;);</span><br><span class="line">    s.pop_back();</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-å…ˆåº-ä¸­åº-å”¯ä¸€"><a href="#02-å…ˆåº-ä¸­åº-å”¯ä¸€" class="headerlink" title="02 å…ˆåº+ä¸­åº(å”¯ä¸€)"></a>02 å…ˆåº+ä¸­åº(å”¯ä¸€)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;unordered_map&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int pre[maxn],in[maxn];</span><br><span class="line">unordered_map&lt;int,int&gt; pos,l,r;</span><br><span class="line"></span><br><span class="line">int build(int pl,int pr,int il,int ir)&#123;</span><br><span class="line">    int root=pre[pl],k=pos[root];</span><br><span class="line">    if(k&gt;il) l[root]=build(pl+1,pl+k-il,il,k-1);</span><br><span class="line">    if(k&lt;ir) r[root]=build(pl+k-il+1,pr,k+1,ir);</span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;pre[i];</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;in[i],pos[in[i]]=i;</span><br><span class="line">    int root=build(0,n-1,0,n-1);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-ååº-ä¸­åº-å”¯ä¸€"><a href="#03-ååº-ä¸­åº-å”¯ä¸€" class="headerlink" title="03 ååº+ä¸­åº(å”¯ä¸€)"></a>03 ååº+ä¸­åº(å”¯ä¸€)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;unordered_map&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">unordered_map&lt;int,int&gt; l,r,pos;</span><br><span class="line">int post[maxn],in[maxn];</span><br><span class="line"></span><br><span class="line">int build(int il,int ir,int pl,int pr)&#123;</span><br><span class="line">    int root=post[pr];</span><br><span class="line">    int k=pos[root];</span><br><span class="line">    if(k&gt;il) l[root]=build(il,k-1,pl,pl+k-1-il);</span><br><span class="line">    if(k&lt;ir) r[root]=build(k+1,ir,pl+k-1-il+1,pr-1);</span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;in[i],pos[in[i]]=i;</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;post[i];</span><br><span class="line">    int root=build(0,n-1,0,n-1);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‰‹åŠ¨å®ç°AVLæ ‘æ’å…¥"><a href="#æ‰‹åŠ¨å®ç°AVLæ ‘æ’å…¥" class="headerlink" title="æ‰‹åŠ¨å®ç°AVLæ ‘æ’å…¥"></a>æ‰‹åŠ¨å®ç°AVLæ ‘æ’å…¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=50;</span><br><span class="line"></span><br><span class="line">int l[maxn],r[maxn],e[maxn],h[maxn],idx;</span><br><span class="line"></span><br><span class="line">void update(int u)&#123;</span><br><span class="line">    h[u]=max(h[l[u]],h[r[u]])+1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void L(int&amp; u)&#123;</span><br><span class="line">    int p=r[u];</span><br><span class="line">    r[u]=l[p],l[p]=u;</span><br><span class="line">    update(u),update(p);</span><br><span class="line">    u=p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void R(int&amp; u)&#123;</span><br><span class="line">    int p=l[u];</span><br><span class="line">    l[u]=r[p],r[p]=u;</span><br><span class="line">    update(u),update(p);</span><br><span class="line">    u=p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int get_balance(int u)&#123;</span><br><span class="line">    return h[l[u]]-h[r[u]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void insert(int&amp; u,int x)&#123;</span><br><span class="line">    if(!u) u=++idx,e[u]=x;</span><br><span class="line">    else if(x&lt;e[u])&#123;</span><br><span class="line">        insert(l[u],x);</span><br><span class="line">        if(get_balance(u)==2)&#123;</span><br><span class="line">            if(get_balance(l[u])==1)</span><br><span class="line">                R(u);</span><br><span class="line">            else L(l[u]),R(u); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        insert(r[u],x);</span><br><span class="line">        if(get_balance(u)==-2)&#123;</span><br><span class="line">            if(get_balance(r[u])==-1)</span><br><span class="line">                L(u);</span><br><span class="line">            else R(r[u]),L(u);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    update(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,x,root=0;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;x;</span><br><span class="line">        insert(root,x);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­çº¢é»‘æ ‘"><a href="#åˆ¤æ–­çº¢é»‘æ ‘" class="headerlink" title="åˆ¤æ–­çº¢é»‘æ ‘"></a>åˆ¤æ–­çº¢é»‘æ ‘</h3><p>æ•°æ®ç»“æ„ä¸­æœ‰ä¸€ç±»å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œç§°ä¸ºçº¢é»‘æ ‘ã€‚</p>
<p>å®ƒå…·æœ‰ä»¥ä¸‹ 5 ä¸ªå±æ€§ï¼š</p>
<ul>
<li>èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</li>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚</li>
<li>æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ã€‚ï¼ˆå¶å­æ˜¯ NULLèŠ‚ç‚¹ï¼‰</li>
<li>æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²ã€‚</li>
<li>ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œå¯¹äºæ¯ä¸ªç»™å®šçš„äºŒå‰æœç´¢æ ‘ï¼Œè¯·ä½ åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯åˆæ³•çš„çº¢é»‘æ ‘ã€‚</p>
<p>æ³¨æ„</p>
<p>ç»™å®šçš„å‰åºéå†åºåˆ—å¯èƒ½ä¸åˆæ³•ï¼Œå³æ— æ³•æ„å»ºå‡ºåˆæ³•äºŒå‰æœç´¢æ ‘ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Kï¼Œè¡¨ç¤ºå…±æœ‰ K ç»„æµ‹è¯•æ•°æ®ã€‚</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºäºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°é‡ã€‚</p>
<p>ç¬¬äºŒè¡Œç»™å‡ºäº†è¿™ä¸ªäºŒå‰æœç´¢æ ‘çš„å‰åºéå†ã€‚</p>
<p>æ³¨æ„ï¼Œè™½ç„¶æ‰€æœ‰èŠ‚ç‚¹çš„æƒå€¼éƒ½ä¸ºæ­£ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨è´Ÿå·è¡¨ç¤ºçº¢è‰²èŠ‚ç‚¹ã€‚</p>
<p>å„èŠ‚ç‚¹æƒå€¼äº’ä¸ç›¸åŒã€‚</p>
<p>è¾“å…¥æ ·ä¾‹ä¸é¢˜ç›®ä¸­ä¸‰ä¸ªå›¾ä¾‹ç›¸å¯¹åº”ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œå¦‚æœæ˜¯åˆæ³•çº¢é»‘æ ‘åˆ™è¾“å‡ºä¸€è¡Œ <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡ºä¸€è¡Œ <code>No</code>ã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Kâ‰¤30<br>1â‰¤Nâ‰¤30</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">9</span><br><span class="line">7 -2 1 5 -4 -11 8 14 -15</span><br><span class="line">9</span><br><span class="line">11 -2 1 -7 5 -4 8 14 -15</span><br><span class="line">8</span><br><span class="line">10 -7 5 -6 8 15 -11 17</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">No</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;unordered_map&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=50;</span><br><span class="line"></span><br><span class="line">int pre[maxn],in[maxn];</span><br><span class="line">bool ans;</span><br><span class="line">unordered_map&lt;int,int&gt; pos;</span><br><span class="line"></span><br><span class="line">int build(int il,int ir,int pl,int pr,int&amp; sum)&#123;</span><br><span class="line">    int root=pre[pl];</span><br><span class="line">    int k=pos[abs(root)];</span><br><span class="line">    if(k&lt;il||k&gt;ir)&#123;</span><br><span class="line">        ans=false;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int l=0,r=0,ls=0,rs=0;</span><br><span class="line">    if(k&gt;il) l=build(il,k-1,pl+1,pl+1+k-1-il,ls);</span><br><span class="line">    if(k&lt;ir) r=build(k+1,ir,pl+1+k-1-il+1,pr,rs);</span><br><span class="line">    if(ls!=rs) ans=false;</span><br><span class="line">    sum=ls;</span><br><span class="line">    if(root&lt;0)&#123;</span><br><span class="line">        if(l&lt;0||r&lt;0) ans=false;</span><br><span class="line">    &#125;</span><br><span class="line">    else sum++;</span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int T;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    while(T--)&#123;</span><br><span class="line">        int n,sum=0;</span><br><span class="line">        pos.clear();</span><br><span class="line">        ans=true;</span><br><span class="line">        cin&gt;&gt;n;</span><br><span class="line">        for(int i=0;i&lt;n;i++) cin&gt;&gt;pre[i],in[i]=abs(pre[i]);</span><br><span class="line">        sort(in,in+n);</span><br><span class="line">        for(int i=0;i&lt;n;i++) pos[in[i]]=i;</span><br><span class="line">        int root=build(0,n-1,0,n-1,sum);</span><br><span class="line">        if(root&lt;0) ans=false;</span><br><span class="line">        if(ans) puts(&quot;Yes&quot;);</span><br><span class="line">        else puts(&quot;No&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="DFSåˆ¤æ–­ä¸€ä¸ªå…ˆåºéå†æ˜¯å¦ä¸ºå †"><a href="#DFSåˆ¤æ–­ä¸€ä¸ªå…ˆåºéå†æ˜¯å¦ä¸ºå †" class="headerlink" title="DFSåˆ¤æ–­ä¸€ä¸ªå…ˆåºéå†æ˜¯å¦ä¸ºå †"></a>DFSåˆ¤æ–­ä¸€ä¸ªå…ˆåºéå†æ˜¯å¦ä¸ºå †</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int h[maxn],n,gt,lt;</span><br><span class="line">vector&lt;int&gt; v;</span><br><span class="line"></span><br><span class="line">void dfs(int u)&#123;</span><br><span class="line">    v.push_back(h[u]);</span><br><span class="line">    if(u*2&gt;n)&#123;</span><br><span class="line">        cout &lt;&lt; v[0];</span><br><span class="line">        for(int i=1;i&lt;v.size();i++)&#123;</span><br><span class="line">            cout &lt;&lt; &#x27; &#x27; &lt;&lt; v[i];</span><br><span class="line">            if(v[i]&lt;=v[i-1]) gt=1;</span><br><span class="line">            else lt=1;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    if(u*2+1&lt;=n) dfs(u*2+1);</span><br><span class="line">    if(u*2&lt;=n) dfs(u*2);</span><br><span class="line">    v.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;h[i];</span><br><span class="line">    dfs(1);</span><br><span class="line">    if(lt&amp;&amp;gt) cout &lt;&lt; &quot;Not Heap&quot; &lt;&lt; endl;</span><br><span class="line">    else if(lt) cout &lt;&lt; &quot;Min Heap&quot; &lt;&lt; endl;</span><br><span class="line">    else if(gt) cout &lt;&lt; &quot;Max Heap&quot; &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€ä½å…¬å…±ç¥–å…ˆ"><a href="#æœ€ä½å…¬å…±ç¥–å…ˆ" class="headerlink" title="æœ€ä½å…¬å…±ç¥–å…ˆ"></a>æœ€ä½å…¬å…±ç¥–å…ˆ</h3><p>æ ‘ä¸­ä¸¤ä¸ªç»“ç‚¹ U å’Œ V çš„æœ€ä½å…¬å…±ç¥–å…ˆï¼ˆLCAï¼‰æ˜¯æŒ‡åŒæ—¶å…·æœ‰ U å’Œ V ä½œä¸ºåä»£çš„æœ€æ·±ç»“ç‚¹ã€‚</p>
<p>ç»™å®šäºŒå‰æ ‘ä¸­çš„ä»»ä½•ä¸¤ä¸ªç»“ç‚¹ï¼Œè¯·ä½ æ‰¾åˆ°å®ƒä»¬çš„ LCAã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° M å’Œ Nï¼Œåˆ†åˆ«è¡¨ç¤ºè¯¢é—®ç»“ç‚¹å¯¹æ•°ä»¥åŠäºŒå‰æ ‘ä¸­çš„ç»“ç‚¹æ•°é‡ã€‚</p>
<p>æ¥ä¸‹æ¥ä¸¤è¡Œï¼Œæ¯è¡ŒåŒ…å« N ä¸ªä¸åŒçš„æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºäºŒå‰æ ‘çš„ä¸­åºå’Œå‰åºéå†ã€‚</p>
<p>ä¿è¯äºŒå‰æ ‘å¯ç”±ç»™å®šéå†åºåˆ—å”¯ä¸€ç¡®å®šã€‚</p>
<p>æ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° U å’Œ Vï¼Œè¡¨ç¤ºä¸€ç»„è¯¢é—®ã€‚</p>
<p>æ‰€æœ‰ç»“ç‚¹æƒå€¼å‡åœ¨ <strong>int</strong> èŒƒå›´å†…ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>å¯¹äºæ¯å¯¹ç»™å®šçš„ U å’Œ Vï¼Œè¾“å‡ºä¸€è¡Œç»“æœã€‚</p>
<p>å¦‚æœ U å’Œ V çš„ LCA æ˜¯ Aï¼Œä¸” A ä¸æ˜¯ U æˆ– Vï¼Œåˆ™è¾“å‡º <code>LCA of U and V is A.</code>ã€‚</p>
<p>å¦‚æœ U å’Œ V çš„ LCA æ˜¯ Aï¼Œä¸” A æ˜¯ U æˆ– V ä¸­çš„ä¸€ä¸ªï¼Œåˆ™è¾“å‡º <code>X is an ancestor of Y.</code>ï¼Œå…¶ä¸­ X è¡¨ç¤º Aï¼ŒY è¡¨ç¤ºå¦ä¸€ä¸ªç»“ç‚¹ã€‚</p>
<p>å¦‚æœ U æˆ– V æ²¡æœ‰åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ï¼Œåˆ™è¾“å‡º <code>ERROR: U is not found.</code> æˆ– <code>ERROR: V is not found.</code> æˆ– <code>ERROR: U and V are not found.</code>ã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Mâ‰¤1000<br>1â‰¤Nâ‰¤10000</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">6 8</span><br><span class="line">7 2 3 4 6 5 1 8</span><br><span class="line">5 3 7 2 6 4 8 1</span><br><span class="line">2 6</span><br><span class="line">8 1</span><br><span class="line">7 9</span><br><span class="line">12 -3</span><br><span class="line">0 8</span><br><span class="line">99 99</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">LCA of 2 and 6 is 3.</span><br><span class="line">8 is an ancestor of 1.</span><br><span class="line">ERROR: 9 is not found.</span><br><span class="line">ERROR: 12 and -3 are not found.</span><br><span class="line">ERROR: 0 is not found.</span><br><span class="line">ERROR: 99 and 99 are not found.</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<p>PATä¸ä¼šè¦æ±‚ç”¨å€å¢çš„LCAç®—æ³•ï¼ŒåŸºæœ¬ä¸Šåªè¦æœ´ç´ çš„å¾€ä¸Šçˆ¬çš„ç®—æ³•å°±å¯ä»¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;unordered_map&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e4+10;</span><br><span class="line"></span><br><span class="line">int f[maxn],pre[maxn],in[maxn],s[maxn],d[maxn];</span><br><span class="line">unordered_map&lt;int,int&gt; pos;</span><br><span class="line"></span><br><span class="line">int build(int il,int ir,int pl,int pr,int x)&#123;</span><br><span class="line">    int root=pre[pl],k=root;</span><br><span class="line">    d[root]=x;</span><br><span class="line">    if(k&gt;il) f[build(il,k-1,pl+1,pl+1+k-1-il,x+1)]=root;</span><br><span class="line">    if(k&lt;ir) f[build(k+1,ir,pl+1+k-1-il+1,pr,x+1)]=root;</span><br><span class="line">    return root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m,a,b;</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;s[i];</span><br><span class="line">        pos[s[i]]=i;</span><br><span class="line">        in[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;pre[i];</span><br><span class="line">        pre[i]=pos[pre[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    build(0,n-1,0,n-1,0);</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        if(!pos.count(a)&amp;&amp;!pos.count(b)) printf(&quot;ERROR: %d and %d are not found.\n&quot;,a,b);</span><br><span class="line">        else if(pos.count(a)&amp;&amp;pos.count(b))&#123;</span><br><span class="line">            int x=pos[a],y=pos[b];</span><br><span class="line">            while(x!=y)&#123;</span><br><span class="line">                if(d[x]&gt;d[y]) x=f[x];</span><br><span class="line">                else y=f[y];</span><br><span class="line">            &#125;</span><br><span class="line">            if(x==pos[a]) printf(&quot;%d is an ancestor of %d.\n&quot;,a,b);</span><br><span class="line">            else if(x==pos[b]) printf(&quot;%d is an ancestor of %d.\n&quot;,b,a);</span><br><span class="line">            else printf(&quot;LCA of %d and %d is %d.\n&quot;,a,b,s[x]);</span><br><span class="line">        &#125;</span><br><span class="line">        else if(!pos.count(a)) printf(&quot;ERROR: %d is not found.\n&quot;,a);</span><br><span class="line">        else printf(&quot;ERROR: %d is not found.\n&quot;,b);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h3><h4 id="01-æœ´ç´ ç‰ˆæœ¬"><a href="#01-æœ´ç´ ç‰ˆæœ¬" class="headerlink" title="01 æœ´ç´ ç‰ˆæœ¬"></a>01 æœ´ç´ ç‰ˆæœ¬</h4><p>ä¸€å…±æœ‰nä¸ªæ•°ï¼Œç¼–å·æ˜¯1~nï¼Œæœ€å¼€å§‹æ¯ä¸ªæ•°å„è‡ªåœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚</p>
<p>ç°åœ¨è¦è¿›è¡Œmä¸ªæ“ä½œï¼Œæ“ä½œå…±æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>â€œM a bâ€ï¼Œå°†ç¼–å·ä¸ºaå’Œbçš„ä¸¤ä¸ªæ•°æ‰€åœ¨çš„é›†åˆåˆå¹¶ï¼Œå¦‚æœä¸¤ä¸ªæ•°å·²ç»åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œåˆ™å¿½ç•¥è¿™ä¸ªæ“ä½œï¼›</li>
<li>â€œQ a bâ€ï¼Œè¯¢é—®ç¼–å·ä¸ºaå’Œbçš„ä¸¤ä¸ªæ•°æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e5+10;</span><br><span class="line"></span><br><span class="line">int p[maxn];</span><br><span class="line"></span><br><span class="line">int find(int x)&#123;</span><br><span class="line">    return p[x]=x==p[x]?x:find(p[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m,a,b;</span><br><span class="line">    char op[2];</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        p[i]=i;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        scanf(&quot;%s%d%d&quot;,op,&amp;a,&amp;b);</span><br><span class="line">        if(op[0]==&#x27;M&#x27;) p[find(a)]=find(b);</span><br><span class="line">        else</span><br><span class="line">            find(a)==find(b)?puts(&quot;Yes&quot;):puts(&quot;No&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-åˆå¹¶æ—¶æ›´æ–°é¢å¤–ä¿¡æ¯"><a href="#02-åˆå¹¶æ—¶æ›´æ–°é¢å¤–ä¿¡æ¯" class="headerlink" title="02 åˆå¹¶æ—¶æ›´æ–°é¢å¤–ä¿¡æ¯"></a>02 åˆå¹¶æ—¶æ›´æ–°é¢å¤–ä¿¡æ¯</h4><p>å…¶å®å°±æ˜¯å†™ä¸€ä¸ªmergeå‡½æ•°ï¼Œæ›´æ–°ä¸€äº›é¢˜ç›®ä¸­è¦æ±‚çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ä¸‹é¢å°±æ˜¯æ›´æ–°å¹¶æŸ¥é›†ä¸­ç»“ç‚¹ä¸ªæ•°çš„mergeå‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">void init()&#123;</span><br><span class="line">    for(int i=0;i&lt;maxn;i++)</span><br><span class="line">        f[i]=i,cnt[i]=1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void merge(int x,int y)&#123;</span><br><span class="line">    int fx=find(x),fy=find(y);</span><br><span class="line">    if(fx!=fy)&#123;</span><br><span class="line">        f[fx]=fy;</span><br><span class="line">        cnt[fy]+=cnt[fx];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a><strong>å›¾</strong></h2><h3 id="æœ€çŸ­è·¯å¾„ä¸æ‰©å±•é—®é¢˜"><a href="#æœ€çŸ­è·¯å¾„ä¸æ‰©å±•é—®é¢˜" class="headerlink" title="æœ€çŸ­è·¯å¾„ä¸æ‰©å±•é—®é¢˜"></a>æœ€çŸ­è·¯å¾„ä¸æ‰©å±•é—®é¢˜</h3><h4 id="01-æœ´ç´ dijkstra"><a href="#01-æœ´ç´ dijkstra" class="headerlink" title="01 æœ´ç´ dijkstra"></a>01 æœ´ç´ dijkstra</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=510,inf=0x3f3f3f3f;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],vis[maxn],d[maxn],m,n;</span><br><span class="line"></span><br><span class="line">void dijkstra()&#123;</span><br><span class="line">    d[1]=0;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        int t=-1;</span><br><span class="line">        for(int j=1;j&lt;=n;j++)</span><br><span class="line">            if(!vis[j]&amp;&amp;(t==-1||d[t]&gt;d[j]))</span><br><span class="line">                t=j;</span><br><span class="line">        vis[t]=1;</span><br><span class="line">        for(int j=1;j&lt;=n;j++)</span><br><span class="line">            d[j]=min(d[j],d[t]+g[t][j]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    memset(g,0x3f,sizeof g);</span><br><span class="line">    memset(d,0x3f,sizeof d);</span><br><span class="line">    int a,b,c;</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c);</span><br><span class="line">        g[a][b]=min(g[a][b],c);</span><br><span class="line">    &#125;</span><br><span class="line">    dijkstra();</span><br><span class="line">    if(d[n]==inf) puts(&quot;-1&quot;);</span><br><span class="line">    else printf(&quot;%d\n&quot;,d[n]);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-å †ä¼˜åŒ–ç‰ˆdijkstra"><a href="#02-å †ä¼˜åŒ–ç‰ˆdijkstra" class="headerlink" title="02 å †ä¼˜åŒ–ç‰ˆdijkstra"></a>02 å †ä¼˜åŒ–ç‰ˆdijkstra</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=3e5+10,inf=0x3f3f3f3f;</span><br><span class="line">typedef pair&lt;int,int&gt; P;</span><br><span class="line"></span><br><span class="line">int h[maxn],e[maxn],ne[maxn],w[maxn],d[maxn],vis[maxn],idx,n,m;</span><br><span class="line">priority_queue&lt;P,vector&lt;P&gt;,greater&lt;P&gt;&gt; que;</span><br><span class="line"></span><br><span class="line">void add(int a,int b,int c)&#123;</span><br><span class="line">    e[idx]=b,ne[idx]=h[a],w[idx]=c,h[a]=idx++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void dijkstra()&#123;</span><br><span class="line">    d[1]=0;</span><br><span class="line">    que.push(&#123;0,1&#125;);</span><br><span class="line">    while(!que.empty())&#123;</span><br><span class="line">        P p=que.top();que.pop();</span><br><span class="line">        int u=p.second;</span><br><span class="line">        if(vis[u]) continue;</span><br><span class="line">        vis[u]=1;</span><br><span class="line">        for(int i=h[u];i!=-1;i=ne[i])&#123;</span><br><span class="line">            int v=e[i];</span><br><span class="line">            if(d[v]&gt;d[u]+w[i])&#123;</span><br><span class="line">                d[v]=d[u]+w[i];</span><br><span class="line">                que.push(&#123;d[v],v&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int a,b,c;</span><br><span class="line">    memset(h,-1,sizeof h);</span><br><span class="line">    memset(d,0x3f,sizeof d);</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c);</span><br><span class="line">        add(a,b,c);</span><br><span class="line">    &#125;</span><br><span class="line">    dijkstra();</span><br><span class="line">    if(d[n]==inf) puts(&quot;-1&quot;);</span><br><span class="line">    else printf(&quot;%d\n&quot;,d[n]);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-å¯¹æœ€çŸ­è·¯é€‰æ‹©çš„æ‰©å±•"><a href="#03-å¯¹æœ€çŸ­è·¯é€‰æ‹©çš„æ‰©å±•" class="headerlink" title="03 å¯¹æœ€çŸ­è·¯é€‰æ‹©çš„æ‰©å±•"></a>03 å¯¹æœ€çŸ­è·¯é€‰æ‹©çš„æ‰©å±•</h4><p>åœ¨æ»¡è¶³æœ€çŸ­è·¯çš„æ¡ä»¶ä¸‹ç»§ç»­è¿½åŠ æ¡ä»¶ï¼Œæ¯”å¦‚è¯´ä¸‹é¢çš„dijkstraä»£ç å°±è¿½åŠ äº†ä¸¤ä¸ªæ•°ç»„cntå’Œsumï¼Œcntç”¨äºç»Ÿè®¡æœ€çŸ­è·¯çš„æ•°é‡ï¼Œsumç”¨äºç»Ÿè®¡è·¯å¾„ä¸Šç´¯è®¡çš„ä¸€ä¸ªé‡(æ¯”å¦‚è¯´è·¯ä¸Šé‡åˆ°çš„äººæ•°å•Šã€è·¯ä¸Šæ‰€éœ€è¦çš„èŠ±è´¹å•Šç­‰ç­‰ï¼Œå°±æ˜¯é¢˜ç›®ä¼šç»™çš„é™¤äº†è·¯å¾„é•¿åº¦ä¹‹å¤–ç”¨äºæœ€çŸ­è·¯é€‰æ‹©çš„å˜é‡ï¼Œè¿™æ—¶å€™åªéœ€è¦åœ¨dijkstraæ¾å¼›æ“ä½œd[j]==d[t]+g[t][j]æ—¶å¯¹å¦ä¸€ä¸ªé‡è¿›è¡Œæ›´æ–°å³å¯)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],d[maxn],vis[maxn],w[maxn],cnt[maxn],sum[maxn],st,ed,n,m;</span><br><span class="line"></span><br><span class="line">void dijkstra()&#123;</span><br><span class="line">    d[st]=0,sum[st]=w[st],cnt[st]=1;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        int t=-1;</span><br><span class="line">        for(int j=0;j&lt;n;j++)</span><br><span class="line">            if(!vis[j]&amp;&amp;(t==-1||d[t]&gt;d[j]))</span><br><span class="line">                t=j;</span><br><span class="line">        vis[t]=1;</span><br><span class="line">        for(int j=0;j&lt;n;j++)&#123;</span><br><span class="line">            if(d[j]&gt;d[t]+g[t][j])&#123;</span><br><span class="line">                d[j]=d[t]+g[t][j];</span><br><span class="line">                cnt[j]=cnt[t];</span><br><span class="line">                sum[j]=sum[t]+w[j];</span><br><span class="line">            &#125;</span><br><span class="line">            else if(d[j]==d[t]+g[t][j])&#123;</span><br><span class="line">                cnt[j]+=cnt[t];</span><br><span class="line">                sum[j]=max(sum[j],sum[t]+w[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int a,b,c;</span><br><span class="line">    memset(g,0x3f,sizeof g);</span><br><span class="line">    memset(d,0x3f,sizeof d);</span><br><span class="line">    scanf(&quot;%d%d%d%d&quot;,&amp;n,&amp;m,&amp;st,&amp;ed);</span><br><span class="line">    for(int i=0;i&lt;n;i++) scanf(&quot;%d&quot;,&amp;w[i]);</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;c);</span><br><span class="line">        g[a][b]=g[b][a]=min(g[a][b],c);</span><br><span class="line">    &#125;</span><br><span class="line">    dijkstra();</span><br><span class="line">    printf(&quot;%d %d\n&quot;,cnt[ed],sum[ed]);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="04-å¯¹æœ€çŸ­è·¯ä¿¡æ¯çš„æ‰©å±•"><a href="#04-å¯¹æœ€çŸ­è·¯ä¿¡æ¯çš„æ‰©å±•" class="headerlink" title="04 å¯¹æœ€çŸ­è·¯ä¿¡æ¯çš„æ‰©å±•"></a>04 å¯¹æœ€çŸ­è·¯ä¿¡æ¯çš„æ‰©å±•</h4><p>æ¯”å¦‚ä¸‹é¢è¿™é¢˜æ˜¯è¦æ±‚åœ¨é€‰æ‹©æœ€çŸ­è·¯çš„å‰æä¸‹é€‰æ‹©èŠ±è´¹æœ€å°çš„ä¸€æ¡ï¼ŒåŒæ—¶è¦æ±‚è¾“å‡ºæœ€çŸ­è·¯çš„è·¯å¾„ï¼Œè¿™ä¸ªä¹Ÿä¸æ˜¯å¤ªéš¾ï¼Œåªéœ€è¦æ¯æ¬¡æœ€çŸ­è·¯æ¾å¼›æ“ä½œçš„æ—¶å€™æŠŠè·¯å¾„è®°å½•åˆ°preæ•°ç»„å³å¯ï¼Œæœ€åå°†preå€’ç€è¾“å‡ºå°±æ˜¯è·¯å¾„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=510;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],val[maxn][maxn],d[maxn],cost[maxn],vis[maxn],pre[maxn],n,m,st,ed;</span><br><span class="line"></span><br><span class="line">void dijkstra()&#123;</span><br><span class="line">    d[st]=0,cost[st]=0,pre[st]=-1;</span><br><span class="line">    for(int i=0;i&lt;n;i++)&#123;</span><br><span class="line">        int t=-1;</span><br><span class="line">        for(int j=0;j&lt;n;j++)</span><br><span class="line">            if(!vis[j]&amp;&amp;(t==-1||d[t]&gt;d[j]))</span><br><span class="line">                t=j;</span><br><span class="line">        vis[t]=1;</span><br><span class="line">        for(int j=0;j&lt;n;j++)&#123;</span><br><span class="line">            if(d[j]&gt;d[t]+g[t][j])&#123;</span><br><span class="line">                d[j]=d[t]+g[t][j];</span><br><span class="line">                cost[j]=cost[t]+val[t][j];</span><br><span class="line">                pre[j]=t;</span><br><span class="line">            &#125;</span><br><span class="line">            else if(d[j]==d[t]+g[t][j]&amp;&amp;cost[j]&gt;cost[t]+val[t][j])&#123;</span><br><span class="line">                cost[j]=cost[t]+val[t][j];</span><br><span class="line">                pre[j]=t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    memset(g,0x3f,sizeof g);</span><br><span class="line">    memset(val,0x3f,sizeof val);</span><br><span class="line">    memset(cost,0x3f,sizeof cost);</span><br><span class="line">    memset(d,0x3f,sizeof d);</span><br><span class="line">    int a,b,x,y;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;st&gt;&gt;ed;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        g[a][b]=g[b][a]=min(g[a][b],x);</span><br><span class="line">        val[a][b]=val[b][a]=min(val[a][b],y);</span><br><span class="line">    &#125;</span><br><span class="line">    dijkstra();</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    for(int i=ed;i!=-1;i=pre[i]) ans.push_back(i);</span><br><span class="line">    for(int i=ans.size()-1;i&gt;=0;i--)&#123;</span><br><span class="line">        if(i!=ans.size()-1) cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt; &#x27; &#x27; &lt;&lt; d[ed] &lt;&lt; &#x27; &#x27; &lt;&lt; cost[ed] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ¤æ–­å“ˆå¯†é¡¿å›è·¯"><a href="#åˆ¤æ–­å“ˆå¯†é¡¿å›è·¯" class="headerlink" title="åˆ¤æ–­å“ˆå¯†é¡¿å›è·¯"></a>åˆ¤æ–­å“ˆå¯†é¡¿å›è·¯</h3><p>å“ˆå¯†é¡¿å›è·¯çš„å››ä¸ªæ¡ä»¶</p>
<ul>
<li>èµ·ç‚¹ä¸ç»ˆç‚¹ç›¸åŒ</li>
<li>æ¯ä¸€æ­¥éƒ½æœ‰è¾¹</li>
<li>æ‰€æœ‰ç‚¹éƒ½è¢«è®¿é—®</li>
<li>æ€»å…±è®¿é—®n+1æ¬¡ç‚¹(èµ·ç‚¹è®¿é—®ä¸¤æ¬¡)</li>
</ul>
<p>DFSæ—¶åˆ¤æ–­è¿™å››ä¸ªæ¡ä»¶å³å¯</p>
<p>ä¸‹é¢è¿™é¢˜aæ•°ç»„å°±æ˜¯é¢˜ç›®ç»™å‡ºçš„è®¿é—®åºåˆ—ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å“ˆå¯†é¡¿å›è·¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=310;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],a[maxn],vis[maxn],n,m,k;</span><br><span class="line"></span><br><span class="line">bool check(int cnt)&#123;</span><br><span class="line">    memset(vis,0,sizeof vis);</span><br><span class="line">    if(a[cnt-1]!=a[0]||cnt!=n+1) return false;</span><br><span class="line">    for(int i=0;i&lt;cnt-1;i++)&#123;</span><br><span class="line">        vis[a[i]]=1;</span><br><span class="line">        if(!g[a[i]][a[i+1]]) return false;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[a[cnt-1]]=1;</span><br><span class="line">    for(int i=0;i&lt;cnt;i++)</span><br><span class="line">        if(!vis[a[i]]) return false;</span><br><span class="line">    return true;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int x,y,cnt;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        g[x][y]=g[y][x]=1;</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;k;</span><br><span class="line">    while(k--)&#123;</span><br><span class="line">        cin&gt;&gt;cnt;</span><br><span class="line">        for(int i=0;i&lt;cnt;i++) cin&gt;&gt;a[i];</span><br><span class="line">        if(check(cnt)) puts(&quot;YES&quot;);</span><br><span class="line">        else puts(&quot;NO&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ¬§æ‹‰è·¯å¾„"><a href="#æ¬§æ‹‰è·¯å¾„" class="headerlink" title="æ¬§æ‹‰è·¯å¾„"></a>æ¬§æ‹‰è·¯å¾„</h3><p>åœ¨å›¾è®ºä¸­ï¼Œæ¬§æ‹‰è·¯å¾„æ˜¯å›¾ä¸­çš„ä¸€æ¡è·¯å¾„ï¼Œè¯¥è·¯å¾„æ»¡è¶³æ°å¥½è®¿é—®æ¯ä¸ªè¾¹ä¸€æ¬¡ã€‚</p>
<p>è€Œæ¬§æ‹‰å›è·¯æ˜¯ä¸€æ¡åœ¨åŒä¸€é¡¶ç‚¹å¤„å¼€å§‹å’Œç»“æŸçš„æ¬§æ‹‰è·¯å¾„ã€‚</p>
<p>å®ƒä»¬æœ€æ—©ç”±æ¬§æ‹‰äº 17361736 å¹´è§£å†³è‘—åçš„å“¥å°¼æ–¯å ¡ä¸ƒæ¡¥é—®é¢˜æ—¶æå‡ºã€‚</p>
<p>äº‹å®è¯æ˜ï¼Œå¦‚æœä¸€ä¸ªè¿é€šå›¾çš„æ‰€æœ‰é¡¶ç‚¹çš„åº¦æ•°éƒ½ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿é€šå›¾å…·æœ‰æ¬§æ‹‰å›è·¯ï¼Œä¸”è¿™ä¸ªå›¾è¢«ç§°ä¸ºæ¬§æ‹‰å›¾ã€‚</p>
<p>å¦‚æœä¸€ä¸ªè¿é€šå›¾ä¸­æœ‰ä¸¤ä¸ªé¡¶ç‚¹çš„åº¦æ•°ä¸ºå¥‡æ•°ï¼Œå…¶ä»–é¡¶ç‚¹çš„åº¦æ•°ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆæ‰€æœ‰æ¬§æ‹‰è·¯å¾„éƒ½ä»å…¶ä¸­ä¸€ä¸ªåº¦æ•°ä¸ºå¥‡æ•°çš„é¡¶ç‚¹å¼€å§‹ï¼Œå¹¶åœ¨å¦ä¸€ä¸ªåº¦æ•°ä¸ºå¥‡æ•°çš„é¡¶ç‚¹ç»“æŸã€‚</p>
<p>å…·æœ‰æ¬§æ‹‰è·¯å¾„ä½†ä¸å…·æœ‰æ¬§æ‹‰å›è·¯çš„å›¾è¢«ç§°ä¸ºåŠæ¬§æ‹‰å›¾ã€‚</p>
<p>ç°åœ¨ï¼Œç»™å®šä¸€ä¸ª<strong>æ— å‘</strong>å›¾ï¼Œè¯·ä½ åˆ¤æ–­å®ƒæ˜¯æ¬§æ‹‰å›¾ã€åŠæ¬§æ‹‰å›¾è¿˜æ˜¯éæ¬§æ‹‰å›¾ã€‚</p>
<p>æ€è·¯å°±æ˜¯è¿­ä»£åˆ¤æ–­åº¦æ•°ï¼ŒDFSæˆ–BFSåˆ¤æ–­å›¾çš„è”é€šæ€§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=510;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],d[maxn],vis[maxn],n,m;</span><br><span class="line"></span><br><span class="line">int dfs(int u)&#123;</span><br><span class="line">    vis[u]=1;</span><br><span class="line">    int res=1;</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        if(!vis[i]&amp;&amp;g[u][i])</span><br><span class="line">            res+=dfs(i);</span><br><span class="line">    return res;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int a,b;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        g[a][b]=g[b][a]=1;</span><br><span class="line">        d[a]++,d[b]++;</span><br><span class="line">    &#125;</span><br><span class="line">    int cnt=dfs(1);</span><br><span class="line">    for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">        if(i!=1) cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">        cout &lt;&lt; d[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    if(cnt==n)&#123;</span><br><span class="line">        int sum=0;</span><br><span class="line">        for(int i=1;i&lt;=n;i++)</span><br><span class="line">            if(d[i]&amp;1) sum++;</span><br><span class="line">        if(sum==0) puts(&quot;Eulerian&quot;);</span><br><span class="line">        else if(sum==2) puts(&quot;Semi-Eulerian&quot;);</span><br><span class="line">        else puts(&quot;Non-Eulerian&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else puts(&quot;Non-Eulerian&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é¡¶ç‚¹è¦†ç›–"><a href="#é¡¶ç‚¹è¦†ç›–" class="headerlink" title="é¡¶ç‚¹è¦†ç›–"></a>é¡¶ç‚¹è¦†ç›–</h3><p>å¦‚æœå›¾ä¸­çš„ä¸€ä¸ªé¡¶ç‚¹é›†åˆèƒ½å¤Ÿæ»¡è¶³å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹éƒ½è‡³å°‘æœ‰ä¸€ä¸ªç«¯ç‚¹åœ¨è¯¥é›†åˆå†…ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¶ç‚¹é›†åˆå°±æ˜¯å›¾çš„é¡¶ç‚¹è¦†ç›–ã€‚</p>
<p>ç°åœ¨ç»™å®šä¸€å¼ å›¾ï¼Œä»¥åŠè‹¥å¹²ä¸ªé¡¶ç‚¹é›†åˆï¼Œè¯·ä½ åˆ¤æ–­è¿™äº›é¡¶ç‚¹é›†åˆæ˜¯å¦æ˜¯å›¾çš„é¡¶ç‚¹è¦†ç›–ã€‚</p>
<p>å­˜ä¸€ä¸ªè¾¹é›†æ¯æ¬¡éå†è¾¹é›†åˆ¤æ–­å³å¯ï¼Œç‰¹åˆ«ç®€å•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;unordered_set&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e4+10;</span><br><span class="line"></span><br><span class="line">struct edge&#123;</span><br><span class="line">    int from,to;</span><br><span class="line">&#125;e[maxn];</span><br><span class="line">int vis[maxn],n,m,k;</span><br><span class="line">unordered_set&lt;int&gt; s;</span><br><span class="line"></span><br><span class="line">bool check()&#123;</span><br><span class="line">    for(int i=0;i&lt;m;i++)</span><br><span class="line">        if(!s.count(e[i].from)&amp;&amp;!s.count(e[i].to))</span><br><span class="line">            return false;</span><br><span class="line">    return true;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int a,b;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=0;i&lt;m;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        e[i]=&#123;a,b&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;k;</span><br><span class="line">    while(k--)&#123;</span><br><span class="line">        int cnt,x;</span><br><span class="line">        cin&gt;&gt;cnt;</span><br><span class="line">        s.clear();</span><br><span class="line">        while(cnt--)&#123;</span><br><span class="line">            cin&gt;&gt;x;</span><br><span class="line">            s.insert(x);</span><br><span class="line">        &#125;</span><br><span class="line">        if(check()) puts(&quot;Yes&quot;);</span><br><span class="line">        else puts(&quot;No&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€å¤§å›¢"><a href="#æœ€å¤§å›¢" class="headerlink" title="æœ€å¤§å›¢"></a>æœ€å¤§å›¢</h3><p>åœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œå¦‚æœä¸€ä¸ªé¡¶ç‚¹å­é›†æ»¡è¶³å­é›†å†…çš„ä»»æ„ä¸¤ä¸ªä¸åŒé¡¶ç‚¹ä¹‹é—´éƒ½æ˜¯ç›¸è¿çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¶ç‚¹å­é›†å°±è¢«ç§°ä¸ºä¸€ä¸ªå›¢ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå›¢ä¸èƒ½é€šè¿‡åŠ å…¥æŸä¸ªæ–°çš„é¡¶ç‚¹æ¥æ‰©å±•æˆä¸€ä¸ªæ›´å¤§çš„å›¢ï¼Œé‚£ä¹ˆè¯¥å›¢å°±è¢«ç§°ä¸ºæœ€å¤§å›¢ã€‚</p>
<p>ç°åœ¨ï¼Œä½ éœ€è¦åˆ¤æ–­ç»™å®šé¡¶ç‚¹å­é›†èƒ½å¦æ„æˆä¸€ä¸ªæœ€å¤§å›¢ã€‚</p>
<p>ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„å›¾è®ºé¢˜ç›®äº†ï¼Œå› ä¸ºPATçš„æ•°æ®å¾ˆå°æ‰€ä»¥ç›´æ¥åœ¨ç»™å‡ºçš„é›†åˆå†…éƒ¨ä¸¤ä¸¤ä¹‹é—´åˆ¤æ–­æ˜¯å¦æœ‰è¾¹å³å¯ï¼Œå¦‚æœæœ‰ä¸¤ç‚¹ä¹‹é—´æ²¡æœ‰è¾¹é‚£ä¹ˆå°±ä¸æ˜¯å›¢ã€‚åœ¨æ¥ä¸‹æ¥åˆ¤æ–­å¤–é¢çš„ç‚¹æ˜¯å¦ä¸é›†åˆä¸­æ¯ä¸ªç‚¹éƒ½æœ‰è¾¹ï¼Œå¦‚æœæœ‰çš„è¯è¯´æ˜å½“å‰çš„é›†åˆä¸æ˜¯æœ€å¤§å›¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;unordered_set&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=210;</span><br><span class="line"></span><br><span class="line">int g[maxn][maxn],n,m,k;</span><br><span class="line">unordered_set&lt;int&gt; s;</span><br><span class="line"></span><br><span class="line">int check(vector&lt;int&gt;&amp; v)&#123;</span><br><span class="line">    s.clear();</span><br><span class="line">    for(int i=0;i&lt;v.size();i++)</span><br><span class="line">        for(int j=i+1;j&lt;v.size();j++)</span><br><span class="line">            if(!g[v[i]][v[j]])&#123;</span><br><span class="line">                return 0;</span><br><span class="line">            &#125;</span><br><span class="line">    for(int i=0;i&lt;v.size();i++) s.insert(v[i]);</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        if(!s.count(i))&#123;</span><br><span class="line">            int flag=1;</span><br><span class="line">            for(auto j:v)</span><br><span class="line">                if(i!=j&amp;&amp;!g[i][j])</span><br><span class="line">                    flag=0;</span><br><span class="line">            if(flag) return 1;        </span><br><span class="line">        &#125;</span><br><span class="line">    return 2;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int a,b;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        g[a][b]=g[b][a]=1;</span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;k;</span><br><span class="line">    while(k--)&#123;</span><br><span class="line">        int cnt,x;</span><br><span class="line">        cin&gt;&gt;cnt;</span><br><span class="line">        vector&lt;int&gt; v;</span><br><span class="line">        while(cnt--) cin&gt;&gt;x,v.push_back(x);</span><br><span class="line">        if(check(v)==2) puts(&quot;Yes&quot;);</span><br><span class="line">        else if(check(v)==1) puts(&quot;Not Maximal&quot;);</span><br><span class="line">        else puts(&quot;Not a Clique&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h3><p>ç»™å‡ºä¸€ä¸ªå›¾å’Œä¸€å †åºåˆ—ï¼Œé—®åºåˆ—æ˜¯ä¸æ˜¯æ‹“æ‰‘æ’åºï¼Œè¾“å‡ºä¸æ˜¯æ‹“æ‰‘æ’åºçš„åºåˆ—çš„ç¼–å·</p>
<p>å› ä¸ºå·²ç»ç»™å‡ºäº†åºåˆ—ï¼Œåªéœ€è¦æ¯æ¬¡åˆ¤æ–­ç‚¹æ˜¯ä¸æ˜¯å…¥åº¦ä¸º0ï¼Œå¦‚æœæ˜¯çš„è¯å°±å°†å…¶æ‰€æœ‰çš„è¿æ¥çš„ç‚¹çš„å…¥åº¦-1ï¼Œç„¶åç»§ç»­å¾€ä¸‹åˆ¤æ–­ï¼Œå¦‚æœèƒ½ä¸€ç›´èµ°åˆ°åºåˆ—ç»“æŸé‚£å°±æ˜¯æ‹“æ‰‘æ’åº</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=100010;</span><br><span class="line"></span><br><span class="line">int h[maxn],e[maxn],ne[maxn],d[maxn],back[maxn],n,m,k,idx;</span><br><span class="line"></span><br><span class="line">void add(int a,int b)&#123;</span><br><span class="line">    e[idx]=b,ne[idx]=h[a],h[a]=idx++,d[b]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool check(vector&lt;int&gt;&amp; v)&#123;</span><br><span class="line">    for(auto x:v)&#123;</span><br><span class="line">        if(d[x]!=0) return false;</span><br><span class="line">        for(int i=h[x];i!=-1;i=ne[i])&#123;</span><br><span class="line">            int y=e[i];</span><br><span class="line">            d[y]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    memset(h,-1,sizeof h);</span><br><span class="line">    int a,b;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    while(m--)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        add(a,b);</span><br><span class="line">    &#125;</span><br><span class="line">    memcpy(back,d,sizeof d);</span><br><span class="line">    cin&gt;&gt;k;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    for(int i=0;i&lt;k;i++)&#123;</span><br><span class="line">        memcpy(d,back,sizeof back);</span><br><span class="line">        int x;</span><br><span class="line">        vector&lt;int&gt; v;</span><br><span class="line">        for(int i=0;i&lt;n;i++) cin&gt;&gt;x,v.push_back(x);</span><br><span class="line">        if(!check(v)) ans.push_back(i);  </span><br><span class="line">    &#125;</span><br><span class="line">    for(int i=0;i&lt;ans.size();i++)&#123;</span><br><span class="line">        if(i) cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æŸ“è‰²é—®é¢˜"><a href="#æŸ“è‰²é—®é¢˜" class="headerlink" title="æŸ“è‰²é—®é¢˜"></a>æŸ“è‰²é—®é¢˜</h3><h4 id="01-äºŒåˆ†å›¾æŸ“è‰²"><a href="#01-äºŒåˆ†å›¾æŸ“è‰²" class="headerlink" title="01 äºŒåˆ†å›¾æŸ“è‰²"></a>01 äºŒåˆ†å›¾æŸ“è‰²</h4><p>ç»™å®šä¸€ä¸ªnä¸ªç‚¹mæ¡è¾¹çš„æ— å‘å›¾ï¼Œå›¾ä¸­å¯èƒ½å­˜åœ¨é‡è¾¹å’Œè‡ªç¯ã€‚</p>
<p>è¯·ä½ åˆ¤æ–­è¿™ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ã€‚</p>
<p>ä½¿ç”¨DFSï¼Œä¸€è¾¹éå†ä¸€è¾¹æŸ“è‰²(æ ‡è®°1æˆ–è€…2ï¼Œä½¿ç”¨3-cè¿›è¡Œé¢œè‰²è½¬æ¢)ï¼Œå¦‚æœæ²¡æœ‰å†²çªå°±è¯´æ˜æŸ“è‰²æˆåŠŸäº†ï¼Œé‚£ä¹ˆå°±æ˜¯äºŒåˆ†å›¾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bool dfs(int u,int c)&#123;</span><br><span class="line">    color[u]=c;</span><br><span class="line">    for(int i=h[u];i!=-1;i=ne[i])&#123;</span><br><span class="line">        int v=e[i];</span><br><span class="line">        if(!color[v])&#123;</span><br><span class="line">            if(!dfs(v,3-c))</span><br><span class="line">                return false;</span><br><span class="line">        &#125;</span><br><span class="line">        if(color[v]==c) return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-åˆ¤æ–­æŸ“è‰²æ–¹æ¡ˆ"><a href="#02-åˆ¤æ–­æŸ“è‰²æ–¹æ¡ˆ" class="headerlink" title="02 åˆ¤æ–­æŸ“è‰²æ–¹æ¡ˆ"></a>02 åˆ¤æ–­æŸ“è‰²æ–¹æ¡ˆ</h4><p>ä¸€ä¸ªåˆé€‚çš„é¡¶ç‚¹ç€è‰²æ˜¯æŒ‡ç”¨å„ç§é¢œè‰²æ ‡è®°å›¾ä¸­å„ä¸ªé¡¶ç‚¹ï¼Œä½¿å¾—æ¯æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹çš„é¢œè‰²éƒ½ä¸ç›¸åŒã€‚</p>
<p>å¦‚æœä¸€ç§åˆé€‚çš„é¡¶ç‚¹ç€è‰²æ–¹æ¡ˆä½¿ç”¨äº†ä¸€å…± kk ç§ä¸åŒçš„é¢œè‰²ï¼Œåˆ™ç§°å…¶ä¸ºåˆé€‚çš„ kk ç€è‰²ï¼ˆ<code>k-coloring</code>)ã€‚</p>
<p>ç°åœ¨ï¼Œä½ éœ€è¦åˆ¤æ–­ç»™å®šçš„ç€è‰²æ–¹æ¡ˆæ˜¯å¦æ˜¯åˆé€‚çš„ kk ç€è‰²æ–¹æ¡ˆã€‚</p>
<p>åªéœ€è¦å°†äºŒåˆ†å›¾æŸ“è‰²çš„ä»£ç ä¿®æ”¹ä¸€ç•ªï¼Œå°†æŸ“è‰²çš„ä»£ç åˆ æ‰å³å¯ï¼Œåˆ¤æ–­çš„åŸç†æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bool dfs(int u)&#123;</span><br><span class="line">    vis[u]=1;</span><br><span class="line">    for(int i=h[u];~i;i=ne[i])&#123;</span><br><span class="line">        int v=e[i];</span><br><span class="line">        if(color[u]==color[v]) return false;</span><br><span class="line">        if(!vis[v]&amp;&amp;!dfs(v)) return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h2><h3 id="é«˜ç²¾åº¦"><a href="#é«˜ç²¾åº¦" class="headerlink" title="é«˜ç²¾åº¦"></a>é«˜ç²¾åº¦</h3><h4 id="01-é«˜ç²¾åº¦åŠ æ³•"><a href="#01-é«˜ç²¾åº¦åŠ æ³•" class="headerlink" title="01 é«˜ç²¾åº¦åŠ æ³•"></a>01 é«˜ç²¾åº¦åŠ æ³•</h4><p>æ³¨æ„åœ¨vectorä¸­æ•°å­—æ˜¯å€’ç€å­˜çš„(æ–¹ä¾¿éå†)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; add(vector&lt;int&gt;&amp; a,vector&lt;int&gt;&amp; b)&#123;</span><br><span class="line">    int t=0;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    for(int i=0;i&lt;a.size()||i&lt;b.size();i++)&#123;</span><br><span class="line">        if(i&lt;a.size()) t+=a[i];</span><br><span class="line">        if(i&lt;b.size()) t+=b[i];</span><br><span class="line">        ans.push_back(t%10);</span><br><span class="line">        t/=10;</span><br><span class="line">    &#125;</span><br><span class="line">    if(t) ans.push_back(1);</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string sa,sb;</span><br><span class="line">    vector&lt;int&gt; a,b;</span><br><span class="line">    cin&gt;&gt;sa&gt;&gt;sb;</span><br><span class="line">    for(int i=sa.length()-1;i&gt;=0;i--) a.push_back(sa[i]-&#x27;0&#x27;);</span><br><span class="line">    for(int i=sb.length()-1;i&gt;=0;i--) b.push_back(sb[i]-&#x27;0&#x27;);</span><br><span class="line">    vector&lt;int&gt; ans=add(a,b);</span><br><span class="line">    for(int i=ans.size()-1;i&gt;=0;i--)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-é«˜ç²¾åº¦å‡æ³•"><a href="#02-é«˜ç²¾åº¦å‡æ³•" class="headerlink" title="02 é«˜ç²¾åº¦å‡æ³•"></a>02 é«˜ç²¾åº¦å‡æ³•</h4><p>æ³¨æ„åœ¨vectorä¸­æ•°å­—æ˜¯å€’ç€å­˜çš„(æ–¹ä¾¿éå†)ï¼Œ<strong>cmpå‡½æ•°ç”¨äºæ¯”è¾ƒå¤§å°(é‡è¦ï¼ï¼ï¼)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">bool cmp(vector&lt;int&gt;&amp; a,vector&lt;int&gt;&amp; b)&#123;</span><br><span class="line">    if(a.size()!=b.size()) return a.size()&gt;b.size();</span><br><span class="line">    for(int i=a.size()-1;i&gt;=0;i--)</span><br><span class="line">        if(a[i]!=b[i])</span><br><span class="line">            return a[i]&gt;b[i];</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; sub(vector&lt;int&gt;&amp; a,vector&lt;int&gt;&amp; b)&#123;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    int t=0;</span><br><span class="line">    for(int i=0;i&lt;a.size();i++)&#123;</span><br><span class="line">        t=a[i]-t;</span><br><span class="line">        if(i&lt;b.size()) t-=b[i];</span><br><span class="line">        ans.push_back((t+10)%10);</span><br><span class="line">        if(t&lt;0) t=1;</span><br><span class="line">        else t=0;</span><br><span class="line">    &#125;</span><br><span class="line">    while(ans.size()&gt;1&amp;&amp;ans.back()==0) ans.pop_back();</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string sa,sb;</span><br><span class="line">    vector&lt;int&gt; a,b,ans;</span><br><span class="line">    cin&gt;&gt;sa&gt;&gt;sb;</span><br><span class="line">    for(int i=sa.length()-1;i&gt;=0;i--) a.push_back(sa[i]-&#x27;0&#x27;);</span><br><span class="line">    for(int i=sb.length()-1;i&gt;=0;i--) b.push_back(sb[i]-&#x27;0&#x27;);</span><br><span class="line">    if(cmp(a,b))</span><br><span class="line">        ans=sub(a,b);</span><br><span class="line">    else</span><br><span class="line">        ans=sub(b,a),cout &lt;&lt; &#x27;-&#x27;;</span><br><span class="line">    for(int i=ans.size()-1;i&gt;=0;i--)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-é«˜ç²¾åº¦ä¹˜æ³•"><a href="#03-é«˜ç²¾åº¦ä¹˜æ³•" class="headerlink" title="03 é«˜ç²¾åº¦ä¹˜æ³•"></a>03 é«˜ç²¾åº¦ä¹˜æ³•</h4><p>æ³¨æ„åœ¨vectorä¸­æ•°å­—æ˜¯å€’ç€å­˜çš„(æ–¹ä¾¿éå†)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; mul(vector&lt;int&gt;&amp; a,int b)&#123;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    int t=0;</span><br><span class="line">    for(int i=0;i&lt;a.size();i++)&#123;</span><br><span class="line">        t+=a[i]*b;</span><br><span class="line">        ans.push_back(t%10);</span><br><span class="line">        t/=10;</span><br><span class="line">    &#125;</span><br><span class="line">    while(t) ans.push_back(t%10),t/=10;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string s;</span><br><span class="line">    vector&lt;int&gt; a;</span><br><span class="line">    int b;</span><br><span class="line">    cin&gt;&gt;s&gt;&gt;b;</span><br><span class="line">    for(int i=s.length()-1;i&gt;=0;i--)</span><br><span class="line">        a.push_back(s[i]-&#x27;0&#x27;);</span><br><span class="line">    vector&lt;int&gt; ans=mul(a,b);</span><br><span class="line">    for(int i=ans.size()-1;i&gt;=0;i--)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="04-é«˜ç²¾åº¦é™¤æ³•"><a href="#04-é«˜ç²¾åº¦é™¤æ³•" class="headerlink" title="04 é«˜ç²¾åº¦é™¤æ³•*"></a>04 é«˜ç²¾åº¦é™¤æ³•*</h4><p>æ³¨æ„åœ¨vectorä¸­æ•°å­—æ˜¯å€’ç€å­˜çš„(æ–¹ä¾¿éå†)ï¼Œræ˜¯ä½™æ•°ï¼Œä½¿ç”¨å¼•ç”¨ä¼ é€’</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">vector&lt;int&gt; div(vector&lt;int&gt;&amp; a,int b,int &amp;r)&#123;</span><br><span class="line">    r=0;</span><br><span class="line">    vector&lt;int&gt; ans;</span><br><span class="line">    for(int i=a.size()-1;i&gt;=0;i--)&#123;</span><br><span class="line">        r=r*10+a[i];</span><br><span class="line">        ans.push_back(r/b);</span><br><span class="line">        r%=b;</span><br><span class="line">    &#125;</span><br><span class="line">    reverse(ans.begin(),ans.end());</span><br><span class="line">    while(ans.size()&gt;1&amp;&amp;ans.back()==0)</span><br><span class="line">        ans.pop_back();</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string s;</span><br><span class="line">    vector&lt;int&gt; a;</span><br><span class="line">    int b,r;</span><br><span class="line">    cin&gt;&gt;s&gt;&gt;b;</span><br><span class="line">    for(int i=s.length()-1;i&gt;=0;i--)</span><br><span class="line">        a.push_back(s[i]-&#x27;0&#x27;);</span><br><span class="line">    vector&lt;int&gt; ans=div(a,b,r);</span><br><span class="line">    for(int i=ans.size()-1;i&gt;=0;i--)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†è§£è´¨å› å­"><a href="#åˆ†è§£è´¨å› å­" class="headerlink" title="åˆ†è§£è´¨å› å­"></a>åˆ†è§£è´¨å› å­</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•° Nï¼Œæ‰¾å‡ºå®ƒçš„æ‰€æœ‰è´¨å› å­ï¼Œå¹¶è¾“å‡ºã€‚</p>
<p>æ€è·¯ï¼šèƒ½é™¤å°±ä¸€ç›´é™¤ï¼Œä½†æ˜¯ä¸è¦å¿˜è®°è¾“å‡ºæœ€åå‰©ä¸‹æ¥çš„n</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">void divide(int n)&#123;</span><br><span class="line">    for(int i=2;i&lt;=n/i;i++)&#123;</span><br><span class="line">        if(n%i==0)&#123;</span><br><span class="line">            int s=0;</span><br><span class="line">            while(n%i==0)&#123;</span><br><span class="line">                s++;</span><br><span class="line">                n/=i;</span><br><span class="line">            &#125;</span><br><span class="line">            printf(&quot;%d %d\n&quot;,i,s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //æ³¨æ„ä¸è¦å¿˜è®°è¿™é‡Œ</span><br><span class="line">    if(n&gt;1) printf(&quot;%d %d\n&quot;,n,1);</span><br><span class="line">    printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,x;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    while(n--)&#123;</span><br><span class="line">        scanf(&quot;%d&quot;,&amp;x);</span><br><span class="line">        divide(x);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ•°è¿ç®—-å’Œå·®ç§¯å•†"><a href="#åˆ†æ•°è¿ç®—-å’Œå·®ç§¯å•†" class="headerlink" title="åˆ†æ•°è¿ç®—(å’Œå·®ç§¯å•†)"></a>åˆ†æ•°è¿ç®—(å’Œå·®ç§¯å•†)</h3><p>ç»™å®šä¸¤ä¸ªæœ‰ç†æ•°ï¼Œä½ çš„ä»»åŠ¡æ˜¯å®ç°åŸºæœ¬ç®—æœ¯ï¼Œå³è®¡ç®—å®ƒä»¬çš„å’Œï¼Œå·®ï¼Œç§¯å’Œå•†ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>å…±ä¸€è¡Œï¼Œä»¥ <code>a1/b1 a2/b2</code> çš„å½¢å¼ç»™å‡ºä¸¤ä¸ªæœ‰ç†æ•°ã€‚</p>
<p>åˆ†å­å’Œåˆ†æ¯éƒ½åœ¨ <strong>long int</strong> èŒƒå›´å†…ï¼Œå¦‚æœå­˜åœ¨è´Ÿå·ï¼Œåˆ™åªèƒ½å‡ºç°åœ¨åˆ†å­å‰é¢ï¼Œåˆ†æ¯ä¿è¯ä¸ºéé›¶æ•°å­—ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>åˆ†åˆ«åœ¨å››è¡Œè¾“å‡ºä¸¤ä¸ªæœ‰ç†æ•°çš„å’Œï¼Œå·®ï¼Œç§¯å’Œå•†ã€‚</p>
<p>æ¯è¡Œçš„æ ¼å¼ä¸º <code>number1 operator number2 = result</code>ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæ‰€æœ‰æœ‰ç†æ•°éƒ½å¿…é¡»é‡‡ç”¨æœ€ç®€å½¢å¼ï¼Œ<code>k a/b</code>ï¼Œå…¶ä¸­ kk æ˜¯æ•´æ•°éƒ¨åˆ†ï¼Œè€Œ a/ba/b æ˜¯æœ€ç®€åˆ†æ•°éƒ¨åˆ†ã€‚</p>
<p>å¦‚æœæ•°å­—ä¸ºè´Ÿï¼Œåˆ™å¿…é¡»å°†å…¶åŒ…å«åœ¨ä¸€å¯¹æ‹¬å·ä¸­ã€‚</p>
<p>å¦‚æœé™¤æ³•ä¸­é™¤æ•°ä¸º 00ï¼Œåˆ™è¾“å‡º <code>Inf</code> ä½œä¸ºç»“æœã€‚</p>
<p>ç¡®ä¿æ‰€æœ‰è¾“å‡ºæ•´æ•°éƒ½åœ¨ <strong>long int</strong> èŒƒå›´å†…ã€‚</p>
<p>è¾“å…¥æ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2/3 -4/2</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2/3 + (-2) = (-1 1/3)</span><br><span class="line">2/3 - (-2) = 2 2/3</span><br><span class="line">2/3 * (-2) = (-1 1/3)</span><br><span class="line">2/3 / (-2) = (-1/3)</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5/3 0/6</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 2/3 + 0 = 1 2/3</span><br><span class="line">1 2/3 - 0 = 1 2/3</span><br><span class="line">1 2/3 * 0 = 0</span><br><span class="line">1 2/3 / 0 = Inf</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<p>ç”±äºæ•°æ®ä¸æ˜¯å¾ˆå˜æ€ï¼Œæ‰€ä»¥æ‰“å°çš„æ—¶å€™çº¦åˆ†å°±å¯ä»¥äº†ï¼Œå¦‚æœæ•°æ®å¾ˆå¤§é‚£ä¹ˆéœ€è¦åœ¨è®¡ç®—è¿‡ç¨‹ä¸­è¿›è¡Œçº¦åˆ†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line"></span><br><span class="line">ll gcd(ll a,ll b)&#123;</span><br><span class="line">    return b?gcd(b,a%b):a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print(ll a,ll b)&#123;</span><br><span class="line">    ll t=gcd(a,b);</span><br><span class="line">    a/=t,b/=t;</span><br><span class="line">    if(b&lt;0) a*=-1,b*=-1;</span><br><span class="line">    bool flag=false;</span><br><span class="line">    if(a&lt;0) flag=true;</span><br><span class="line">    if(flag) printf(&quot;(&quot;);</span><br><span class="line">    if(b==1) printf(&quot;%lld&quot;,a);</span><br><span class="line">    else if(abs(a)&gt;b) printf(&quot;%lld %lld/%lld&quot;,a/b,abs(a-b*(a/b)),b);</span><br><span class="line">    else printf(&quot;%lld/%lld&quot;,a,b);</span><br><span class="line">    if(flag) printf(&quot;)&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll add(ll a,ll b,ll c,ll d)&#123;</span><br><span class="line">    print(a,b),cout &lt;&lt; &quot; + &quot;,print(c,d),cout &lt;&lt; &quot; = &quot;;</span><br><span class="line">    a=a*d+b*c,b=b*d;</span><br><span class="line">    print(a,b);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll sub(ll a,ll b,ll c,ll d)&#123;</span><br><span class="line">    print(a,b),cout &lt;&lt; &quot; - &quot;,print(c,d),cout &lt;&lt; &quot; = &quot;;</span><br><span class="line">    a=a*d-b*c,b=b*d;</span><br><span class="line">    print(a,b);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll mul(ll a,ll b,ll c,ll d)&#123;</span><br><span class="line">    print(a,b),cout &lt;&lt; &quot; * &quot;,print(c,d),cout &lt;&lt; &quot; = &quot;;</span><br><span class="line">    a=a*c,b=b*d;</span><br><span class="line">    print(a,b);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll div(ll a,ll b,ll c,ll d)&#123;</span><br><span class="line">    print(a,b),cout &lt;&lt; &quot; / &quot;,print(c,d),cout &lt;&lt; &quot; = &quot;;</span><br><span class="line">    a*=d,b*=c;</span><br><span class="line">    if(b==0) puts(&quot;Inf&quot;);</span><br><span class="line">    else&#123;</span><br><span class="line">        print(a,b);</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    ll a,b,c,d;</span><br><span class="line">    scanf(&quot;%lld/%lld %lld/%lld&quot;,&amp;a,&amp;b,&amp;c,&amp;d);</span><br><span class="line">    add(a,b,c,d);</span><br><span class="line">    sub(a,b,c,d);</span><br><span class="line">    mul(a,b,c,d);</span><br><span class="line">    div(a,b,c,d);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç´ æ•°ç­›"><a href="#ç´ æ•°ç­›" class="headerlink" title="ç´ æ•°ç­›"></a>ç´ æ•°ç­›</h3><h4 id="01-æœ´ç´ ç­›æ³•"><a href="#01-æœ´ç´ ç­›æ³•" class="headerlink" title="01 æœ´ç´ ç­›æ³•"></a>01 æœ´ç´ ç­›æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e6+10;</span><br><span class="line"></span><br><span class="line">int flag[maxn];</span><br><span class="line">vector&lt;int&gt; prime;</span><br><span class="line"></span><br><span class="line">void get_primes(int n)&#123;</span><br><span class="line">    for(int i=2;i&lt;=n;i++)&#123;</span><br><span class="line">        if(!flag[i])&#123;</span><br><span class="line">            prime.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        for(int j=i+i;j&lt;=n;j+=i)</span><br><span class="line">            flag[j]=true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    get_primes(n);</span><br><span class="line">    printf(&quot;%d\n&quot;,prime.size());</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-åŸƒæ°ç­›æ³•"><a href="#02-åŸƒæ°ç­›æ³•" class="headerlink" title="02 åŸƒæ°ç­›æ³•"></a>02 åŸƒæ°ç­›æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e6+10;</span><br><span class="line"></span><br><span class="line">int flag[maxn];</span><br><span class="line">vector&lt;int&gt; prime;</span><br><span class="line"></span><br><span class="line">void get_primes(int n)&#123;</span><br><span class="line">    for(int i=2;i&lt;=n;i++)&#123;</span><br><span class="line">        if(!flag[i])&#123;</span><br><span class="line">            prime.push_back(i);</span><br><span class="line">            for(int j=i+i;j&lt;=n;j+=i)</span><br><span class="line">                flag[j]=true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    get_primes(n);</span><br><span class="line">    printf(&quot;%d\n&quot;,prime.size());</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-çº¿æ€§ç­›"><a href="#03-çº¿æ€§ç­›" class="headerlink" title="03 çº¿æ€§ç­›"></a>03 çº¿æ€§ç­›</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1e6+10;</span><br><span class="line"></span><br><span class="line">int flag[maxn];</span><br><span class="line">vector&lt;int&gt; prime;</span><br><span class="line"></span><br><span class="line">void get_primes(int n)&#123;</span><br><span class="line">    for(int i=2;i&lt;=n;i++)&#123;</span><br><span class="line">        if(!flag[i]) prime.push_back(i);</span><br><span class="line">        for(int j=0;prime[j]&lt;=n/i;j++)&#123;</span><br><span class="line">            flag[prime[j]*i]=true;</span><br><span class="line">            if(i%prime[j]==0) break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    get_primes(n);</span><br><span class="line">    printf(&quot;%d\n&quot;,prime.size());</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int qmi(int a,int b,int p)&#123;</span><br><span class="line">    int ans=1;</span><br><span class="line">    while(b)&#123;</span><br><span class="line">        if(b&amp;1) ans=1ll*ans*a%p;</span><br><span class="line">        b&gt;&gt;=1;</span><br><span class="line">        a=1ll*a*a%p;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,a,b,p;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">    while(n--)&#123;</span><br><span class="line">        scanf(&quot;%d%d%d&quot;,&amp;a,&amp;b,&amp;p);</span><br><span class="line">        printf(&quot;%d\n&quot;,qmi(a,b,p));</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a><strong>åŠ¨æ€è§„åˆ’</strong></h2><h3 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h3><h4 id="01èƒŒåŒ…"><a href="#01èƒŒåŒ…" class="headerlink" title="01èƒŒåŒ…"></a>01èƒŒåŒ…</h4><p>äºŒç»´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int v[maxn],w[maxn],dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;v[i]&gt;&gt;w[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;=m;j++)&#123;</span><br><span class="line">            dp[i][j]=dp[i-1][j];</span><br><span class="line">            if(j&gt;=v[i])</span><br><span class="line">                dp[i][j]=max(dp[i][j],dp[i-1][j-v[i]]+w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ä¸€ç»´</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int v[maxn],w[maxn],dp[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;v[i]&gt;&gt;w[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">        for(int j=m;j&gt;=v[i];j--)&#123;</span><br><span class="line">                dp[j]=max(dp[j],dp[j-v[i]]+w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-ç¡¬å¸æ‰¾é›¶"><a href="#02-ç¡¬å¸æ‰¾é›¶" class="headerlink" title="02 ç¡¬å¸æ‰¾é›¶"></a>02 ç¡¬å¸æ‰¾é›¶</h4><p>(01èƒŒåŒ…åº”ç”¨)</p>
<p>ä¼Šå¨ƒå–œæ¬¢ä»æ•´ä¸ªå®‡å®™ä¸­æ”¶é›†ç¡¬å¸ã€‚</p>
<p>æœ‰ä¸€å¤©ï¼Œå¥¹å»äº†ä¸€å®¶å®‡å®™è´­ç‰©ä¸­å¿ƒè´­ç‰©ï¼Œç»“è´¦æ—¶å¯ä»¥ä½¿ç”¨å„ç§ç¡¬å¸ä»˜æ¬¾ã€‚</p>
<p>ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„ä»˜æ¬¾è¦æ±‚ï¼šæ¯å¼ å¸å•ï¼Œå¥¹éƒ½å¿…é¡»<strong>å‡†ç¡®</strong>çš„æ”¯ä»˜æ‰€æ¶ˆè´¹é‡‘é¢ã€‚</p>
<p>ç»™å®šå¥¹æ‹¥æœ‰çš„æ‰€æœ‰ç¡¬å¸çš„é¢é¢ï¼Œè¯·ä½ å¸®å¥¹ç¡®å®šå¯¹äºç»™å®šçš„é‡‘é¢ï¼Œå¥¹èƒ½å¦æ‰¾åˆ°ä¸€äº›ç¡¬å¸æ¥æ”¯ä»˜ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mï¼Œåˆ†åˆ«è¡¨ç¤ºç¡¬å¸æ•°é‡ä»¥åŠéœ€è¦æ”¯ä»˜çš„é‡‘é¢ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªç¡¬å¸çš„é¢é¢ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>å…±ä¸€è¡Œï¼ŒæŒ‰ç…§é¢é¢å‡åºçš„é¡ºåºï¼Œè¾“å‡ºç”¨æ¥æ”¯ä»˜çš„æ‰€æœ‰ç¡¬å¸çš„é¢é¢ã€‚</p>
<p>å¦‚æœæ”¯ä»˜æ–¹å¼ä¸å”¯ä¸€ï¼Œåˆ™è¾“å‡ºæœ€å°çš„æ”¯ä»˜é¢é¢åºåˆ—ã€‚</p>
<p>å¦‚æœæ— è§£ï¼Œåˆ™è¾“å‡º <code>No Solution</code>ã€‚</p>
<p>å¯¹äºä¸¤ä¸ªåºåˆ— <code>&#123;A[1], A[2], ...&#125;</code> å’Œ <code>&#123;B[1], B[2], ...&#125;</code>ï¼Œå¦‚æœå­˜åœ¨ kâ‰¥1kâ‰¥1 ä½¿å¾—æ‰€æœ‰ i&lt;ki&lt;kï¼Œæ»¡è¶³ A[i]=B[i]A[i]=B[i] æˆç«‹ï¼Œå¹¶ä¸” A[k]&lt;B[k]ï¼Œåˆ™æˆ‘ä»¬ç§°åºåˆ— AA å°äºåºåˆ— BBã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Nâ‰¤10^4,<br>1â‰¤Mâ‰¤100,<br>ç¡¬å¸é¢å€¼ä¸è¶…è¿‡ 100100</p>
<p>è¾“å…¥æ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8 9</span><br><span class="line">5 9 8 7 2 3 4 1</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 3 5</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4 8</span><br><span class="line">7 2 4 3</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No Solution</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<p>ä¸ºäº†ä¿è¯æœ€å°çš„é¢é¢æ”¯ä»˜åºåˆ—ï¼Œéœ€è¦å°†ç¡¬å¸é¢é¢ä»å¤§åˆ°å°è¿›è¡Œdpï¼Œä¿è¯åé¢é¢é¢å°çš„å¯ä»¥è¦†ç›–é¢é¢å¤§çš„æ–¹æ¡ˆ</p>
<p>è¾“å‡ºè·¯å¾„çš„æ—¶å€™åªéœ€è¦ä»åå¾€å‰æ²¿ç€trueçš„è·¯å¾„å€’ç€å›å»å³å¯ï¼Œå› ä¸ºæ˜¯boolæ•°ç»„æ‰€ä»¥åªä¼šå­˜å‚¨ä¸€ä¸ªæ”¯ä»˜æ–¹æ¡ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int N=1e4+10,M=110;</span><br><span class="line"></span><br><span class="line">bool f[N][M];</span><br><span class="line">int a[N];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    f[0][0]=true;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    sort(a+1,a+1+n,greater&lt;int&gt;());</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        for(int j=0;j&lt;=m;j++)&#123;</span><br><span class="line">            f[i][j]=f[i-1][j];</span><br><span class="line">            if(j&gt;=a[i]) f[i][j]|=f[i-1][j-a[i]];</span><br><span class="line">        &#125;</span><br><span class="line">    if(!f[n][m]) puts(&quot;No Solution&quot;);</span><br><span class="line">    else&#123;</span><br><span class="line">        bool flag=true;</span><br><span class="line">        while(n)&#123;</span><br><span class="line">            if(m&gt;=a[n]&amp;&amp;f[n-1][m-a[n]])&#123;</span><br><span class="line">                if(flag) flag=false;</span><br><span class="line">                else cout &lt;&lt; &#x27; &#x27;;</span><br><span class="line">                cout &lt;&lt; a[n];</span><br><span class="line">                m-=a[n];</span><br><span class="line">            &#125;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="03-å®Œå…¨èƒŒåŒ…"><a href="#03-å®Œå…¨èƒŒåŒ…" class="headerlink" title="03 å®Œå…¨èƒŒåŒ…"></a>03 å®Œå…¨èƒŒåŒ…</h4><p>æœ´ç´ ç‰ˆæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int dp[maxn][maxn],v[maxn],w[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;v[i]&gt;&gt;w[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        for(int j=0;j&lt;=m;j++)</span><br><span class="line">            for(int k=0;k*v[i]&lt;=j;k++)</span><br><span class="line">                dp[i][j]=max(dp[i][j],dp[i-1][j-k*v[i]]+k*w[i]);</span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¼˜åŒ–ç‰ˆæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int dp[maxn][maxn],v[maxn],w[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;v[i]&gt;&gt;w[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;=m;j++)&#123;</span><br><span class="line">            dp[i][j]=dp[i-1][j];</span><br><span class="line">            if(j&gt;=v[i])</span><br><span class="line">                dp[i][j]=max(dp[i][j],dp[i][j-v[i]]+w[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ»šåŠ¨æ•°ç»„ç»ˆæä¼˜åŒ–ç‰ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">int dp[maxn],v[maxn],w[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;v[i]&gt;&gt;w[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        for(int j=v[i];j&lt;=m;j++)</span><br><span class="line">            dp[j]=max(dp[j],dp[j-v[i]]+w[i]);</span><br><span class="line">    cout &lt;&lt; dp[m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="04-æ•´æ•°åˆ†è§£"><a href="#04-æ•´æ•°åˆ†è§£" class="headerlink" title="04 æ•´æ•°åˆ†è§£"></a>04 æ•´æ•°åˆ†è§£</h4><p>(å®Œå…¨èƒŒåŒ…åº”ç”¨)</p>
<p>æ­£æ•´æ•° NN çš„ Kâˆ’P åˆ†è§£ï¼Œæ˜¯å°† N å†™ä¸º K ä¸ªæ­£æ•´æ•°çš„ P æ¬¡å¹‚çš„å’Œã€‚</p>
<p>è¯·ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç»™å®š N,K,P çš„æƒ…å†µä¸‹ï¼Œæ‰¾åˆ° N çš„ Kâˆ’P åˆ†è§£ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° N,K,Pã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>å¦‚æœå­˜åœ¨ N çš„ Kâˆ’P åˆ†è§£ï¼Œåˆ™ä»¥å¦‚ä¸‹æ ¼å¼è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">N = n[1]^P + ... n[K]^P</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œn[i]æ˜¯ç¬¬ i ä¸ªå› å­ï¼Œæ‰€æœ‰å› å­å¿…é¡»æŒ‰ç…§ä¸å‡åºé¡ºåºè¾“å‡ºã€‚</p>
<p>æ³¨æ„ï¼Œç­”æ¡ˆä¹Ÿè®¸ä¸å”¯ä¸€ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ169çš„ 5âˆ’2 åˆ†è§£å…±æœ‰ 99 ç§ï¼Œå¦‚ 122+42+22+22+12ï¼Œ112+62+22+22+22 ç­‰ç­‰ã€‚</p>
<p>ä½ éœ€è¦è¾“å‡ºå„å› å­ä¹‹å’Œæœ€å¤§çš„ä¸€ç§è§£æ³•ã€‚</p>
<p>å¦‚æœä»ä¸èƒ½ç¡®å®šå”¯ä¸€è§£æ³•ï¼Œåˆ™é€‰æ‹©å› å­åºåˆ—æ›´å¤§çš„è§£æ³•ã€‚</p>
<p>æˆ‘ä»¬ç§°åºåˆ— {a1,a2,â€¦,aK} å¤§äºåºåˆ— {b1,b2,â€¦,bK}ï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ 1â‰¤Lâ‰¤Kï¼Œæ»¡è¶³å½“ ibLã€‚</p>
<p>å¦‚æœæ— è§£ï¼Œåˆ™ç›´æ¥è¾“å‡º <code>Impossible</code>ã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Kâ‰¤Nâ‰¤400,<br>2â‰¤Pâ‰¤7</p>
<p>è¾“å…¥æ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">169 5 2</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">169 = 6^2 + 6^2 + 6^2 + 6^2 + 5^2</span><br></pre></td></tr></table></figure>
<p>è¾“å…¥æ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">169 167 3</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Impossible</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=410;</span><br><span class="line"></span><br><span class="line">int f[30][maxn][maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,k,p,m;</span><br><span class="line">    memset(f,-0x3f,sizeof f);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;k&gt;&gt;p;</span><br><span class="line">    f[0][0][0]=0;</span><br><span class="line">    for(m=1;;m++)&#123;</span><br><span class="line">        int val=pow(m,p);</span><br><span class="line">        if(val&gt;n) break;</span><br><span class="line">        for(int i=0;i&lt;=n;i++)&#123;</span><br><span class="line">            for(int j=0;j&lt;=k;j++)&#123;</span><br><span class="line">                f[m][i][j]=f[m-1][i][j];</span><br><span class="line">                if(j&amp;&amp;i&gt;=val) f[m][i][j]=max(f[m][i][j],f[m][i-val][j-1]+m);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    m--;</span><br><span class="line">    if(f[m][n][k]&lt;0) puts(&quot;Impossible&quot;);</span><br><span class="line">    else&#123;</span><br><span class="line">        bool flag=true;</span><br><span class="line">        printf(&quot;%d = &quot;,n);</span><br><span class="line">        while(m)&#123;</span><br><span class="line">            int val=pow(m,p);</span><br><span class="line">            while(f[m][n-val][k-1]+m&gt;=f[m-1][n][k])&#123;</span><br><span class="line">                if(!flag) cout &lt;&lt; &quot; + &quot;;</span><br><span class="line">                else flag=false;</span><br><span class="line">                printf(&quot;%d^%d&quot;,m,p);</span><br><span class="line">                n-=val,k--;</span><br><span class="line">            &#125;</span><br><span class="line">            m--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="05-å¤šé‡èƒŒåŒ…"><a href="#05-å¤šé‡èƒŒåŒ…" class="headerlink" title="05 å¤šé‡èƒŒåŒ…*"></a>05 å¤šé‡èƒŒåŒ…*</h4><p>PATé¢˜ç›®æœ€å¤šæœ€å¤šä¹Ÿåªä¼šæ¶‰åŠåˆ°01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…äº†ï¼Œå¤šé‡èƒŒåŒ…ä¸å¤ªå¯èƒ½ï¼Œä½†æ˜¯è¿˜æ˜¯æ”¾ä¸€ä¸‹ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=110;</span><br><span class="line"></span><br><span class="line">int dp[maxn][maxn],v[maxn],w[maxn],s[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=n;i++) cin&gt;&gt;v[i]&gt;&gt;w[i]&gt;&gt;s[i];</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        for(int j=0;j&lt;=m;j++)</span><br><span class="line">            for(int k=0;k&lt;=s[i]&amp;&amp;k*v[i]&lt;=j;k++)</span><br><span class="line">                dp[i][j]=max(dp[i][j],dp[i-1][j-k*v[i]]+k*w[i]);</span><br><span class="line">    cout &lt;&lt; dp[n][m] &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€å¤§å­åºåˆ—å’Œ"><a href="#æœ€å¤§å­åºåˆ—å’Œ" class="headerlink" title="æœ€å¤§å­åºåˆ—å’Œ"></a>æœ€å¤§å­åºåˆ—å’Œ</h3><p>ç»™å®šä¸€ä¸ªåŒ…å« KK ä¸ªæ•´æ•°çš„åºåˆ— {N1,N2,â€¦,NK}ã€‚</p>
<p>è¿ç»­å­åºåˆ—å®šä¹‰ä¸º {Ni,Ni+1,â€¦,Nj}ï¼Œå…¶ä¸­ 1â‰¤iâ‰¤jâ‰¤Kã€‚</p>
<p>æœ€å¤§å­åºåˆ—æ˜¯æŒ‡åºåˆ—å†…å„å…ƒç´ ä¹‹å’Œæœ€å¤§çš„è¿ç»­å­åºåˆ—ã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šåºåˆ— {âˆ’2,11,âˆ’4,13,âˆ’5,âˆ’2}ï¼Œå®ƒçš„æœ€å¤§å­åºåˆ—ä¸º {11,âˆ’4,13}ï¼Œå…¶å„å…ƒç´ ä¹‹å’Œä¸º 20ã€‚</p>
<p>ç°åœ¨ä½ éœ€è¦æ±‚å‡ºæœ€å¤§å­åºåˆ—çš„å„å…ƒç´ ä¹‹å’Œï¼Œå¹¶ä¸”è¾“å‡ºæœ€å¤§å­åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Kã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å« K ä¸ªæ•´æ•°ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>è¾“å‡ºä¸€è¡Œä¸‰ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€å¤§å­åºåˆ—çš„å„å…ƒç´ ä¹‹å’Œä»¥åŠæœ€å¤§å­åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</p>
<p>è®¾æœ€å¤§å­åºåˆ—ä¸º {Ni,Ni+1,â€¦,Nj}ï¼Œå¦‚æœç­”æ¡ˆä¸å”¯ä¸€ï¼Œåˆ™é€‰æ‹© i æ›´å°çš„è§£ï¼Œå¦‚æœä»ä¸å”¯ä¸€ï¼Œåˆ™é€‰æ‹© j æ›´å°çš„è§£ã€‚</p>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬è§„å®šï¼Œå¦‚æœæ‰€æœ‰ KK ä¸ªæ•°å­—å‡ä¸ºè´Ÿæ•°ï¼Œåˆ™å…¶æœ€å¤§å’Œå®šä¹‰ä¸º 0ï¼Œå¹¶ä¸”åº”è¯¥è¾“å‡ºæ•´ä¸ªåºåˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—å’Œæœ€åä¸€ä¸ªæ•°å­—ã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>1â‰¤Kâ‰¤10000,åºåˆ—å†…å…ƒç´ çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 10^5ã€‚</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">-10 1 2 3 4 -5 -23 3 7 -21</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10 1 4</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=10010;</span><br><span class="line"></span><br><span class="line">int a[maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,ans=-1,l,r;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    for(int i=0;i&lt;n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    for(int i=0,f=-1,st;i&lt;n;i++)&#123;</span><br><span class="line">        if(f&lt;0) f=0,st=i;</span><br><span class="line">        f+=a[i];</span><br><span class="line">        if(f&gt;ans)&#123;</span><br><span class="line">            ans=f;</span><br><span class="line">            l=a[st],r=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if(ans&lt;0) ans=0,l=a[0],r=a[n-1];</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; &#x27; &#x27; &lt;&lt; l &lt;&lt; &#x27; &#x27; &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ—"></a>æœ€é•¿å…¬å…±å­åºåˆ—</h3><h4 id="01-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#01-æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="01 æœ€é•¿å…¬å…±å­åºåˆ—"></a>01 æœ€é•¿å…¬å…±å­åºåˆ—</h4><p>dp[i][j]=max(dp[i-1][j],dp[i][j-1],dp[i-1][j-1]+1)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=1010;</span><br><span class="line"></span><br><span class="line">char a[maxn],b[maxn];</span><br><span class="line">int dp[maxn][maxn];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m;</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;n,&amp;m);</span><br><span class="line">    scanf(&quot;%s%s&quot;,a+1,b+1);</span><br><span class="line">    for(int i=1;i&lt;=n;i++)</span><br><span class="line">        for(int j=1;j&lt;=m;j++)&#123;</span><br><span class="line">            dp[i][j]=max(dp[i-1][j],dp[i][j-1]);</span><br><span class="line">            if(a[i]==b[j]) dp[i][j]=dp[i-1][j-1]+1;</span><br><span class="line">        &#125;</span><br><span class="line">    printf(&quot;%d\n&quot;,dp[n][m]);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="02-å˜ç§-ä¸€ä¸ªå­—ç¬¦åŒ¹é…å¤šä¸ªå­—ç¬¦"><a href="#02-å˜ç§-ä¸€ä¸ªå­—ç¬¦åŒ¹é…å¤šä¸ªå­—ç¬¦" class="headerlink" title="02 å˜ç§(ä¸€ä¸ªå­—ç¬¦åŒ¹é…å¤šä¸ªå­—ç¬¦)"></a>02 å˜ç§(ä¸€ä¸ªå­—ç¬¦åŒ¹é…å¤šä¸ªå­—ç¬¦)</h4><p>aæ•°ç»„ä¸­çš„å­—ç¬¦å¯ä»¥åŒ¹é…å¤šæ¬¡bæ•°ç»„ä¸­çš„å­—ç¬¦ï¼Œæ‰€ä»¥dp[i][j]=max(dp[i-1][j],dp[i][j-1],dp[i-1][j-1]+1)è¦æ”¹æˆf[i][j]=max(f[i-1][j],f[i][j-1],f[i][j-1]+1)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int N=210,M=1e4+10;</span><br><span class="line"></span><br><span class="line">int a[N],b[M];</span><br><span class="line">int f[N][M];</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    int n,m,k;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    for(int i=1;i&lt;=m;i++) cin&gt;&gt;a[i];</span><br><span class="line">    cin&gt;&gt;k;</span><br><span class="line">    for(int i=1;i&lt;=k;i++) cin&gt;&gt;b[i];</span><br><span class="line">    for(int i=1;i&lt;=m;i++)</span><br><span class="line">        for(int j=1;j&lt;=k;j++)&#123;</span><br><span class="line">            if(a[i]==b[j]) f[i][j]=max(f[i][j],f[i][j-1]+1);</span><br><span class="line">            else f[i][j]=max(f[i-1][j],f[i][j-1]);</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; f[m][k] &lt;&lt; endl;    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="çŠ¶æ€æœºæ¨¡å‹"><a href="#çŠ¶æ€æœºæ¨¡å‹" class="headerlink" title="çŠ¶æ€æœºæ¨¡å‹"></a>çŠ¶æ€æœºæ¨¡å‹</h3><p>å­—ç¬¦ä¸² <code>APPAPT</code> ä¸­å…±åŒ…å«ä¸¤ä¸ª <code>PAT</code> ä½œä¸ºå­ä¸²ã€‚</p>
<p>ç¬¬ä¸€ä¸ªå­ä¸²ç”±ç¬¬äºŒï¼Œç¬¬å››å’Œç¬¬å…­ä¸ªå­—ç¬¦ç»„æˆï¼Œç¬¬äºŒä¸ªå­ä¸²ç”±ç¬¬ä¸‰ï¼Œç¬¬å››å’Œç¬¬å…­ä¸ªå­—ç¬¦ç»„æˆã€‚</p>
<p>ç°åœ¨ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ±‚å‡ºå­—ç¬¦ä¸²ä¸­åŒ…å«çš„ <code>PAT</code> çš„æ•°é‡ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªç”±å¤§å†™å­—æ¯ P,A,T æ„æˆçš„å­—ç¬¦ä¸²ã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>è¾“å‡ºå­—ç¬¦ä¸²ä¸­åŒ…å«çš„ <code>PAT</code> çš„æ•°é‡ã€‚</p>
<p>ç”±äºç»“æœå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ è¾“å‡ºå¯¹ 1000000007 å–æ¨¡åçš„ç»“æœã€‚</p>
<p>æ•°æ®èŒƒå›´</p>
<p>ç»™å®šå­—ç¬¦ä¸²çš„é•¿åº¦ä¸è¶…è¿‡ 10^5ã€‚</p>
<p>è¾“å…¥æ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">APPAPT</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºæ ·ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>
<p>ä»£ç </p>
<p>å°†åˆå§‹çŠ¶æ€è®¾ç½®ä¸º0ï¼ŒåŒ¹é…Pçš„çŠ¶æ€è®¾ç½®ä¸º1ï¼ŒåŒ¹é…PååˆåŒ¹é…äº†Açš„çŠ¶æ€è®¾ç½®ä¸º2ï¼ŒåŒ¹é…äº†På’ŒAä¹‹ååˆåŒ¹é…äº†Tçš„çŠ¶æ€è®¾ç½®ä¸º3</p>
<p>f[i][j]è¡¨ç¤ºä¸ºåªè€ƒè™‘ç»™å®šå­—ç¬¦ä¸²å‰iä¸ªå­—ç¬¦ä¸”èµ°åˆ°äº†çŠ¶æ€jçš„æ‰€æœ‰è·¯çº¿çš„æ•°é‡</p>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2022-02-26</span>
            
            
             
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2022/2202202221/'>ArcGIS Pro åŠŸèƒ½ä»‹ç»</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2022/20220220/">USDç®€ä»‹å’Œå„åœ¨DCCè½¯ä»¶ä¸­çš„åº”ç”¨</a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2025 China 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>
<script src="/js/emojiHandler.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    wrapEmojis('.paper');
  });
</script>