<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="ã€Object Detectionã€‘-Faster R-CNN" />
    <meta name="hexo-theme-A4" content="v1.9.8" />
    <link rel="alternate icon" type="image/webp" href="/img/20250602032635.jpg">
    <title>Yann | æˆ‘æ„¿åšä½ å…‰åä¸­æ·¡æ·¡çš„ä¸€ç¬”</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery-bundle.min.css">


   
        
<link rel="stylesheet" href="/css/custom.css">

    

<meta name="generator" content="Hexo 5.4.2"></head>
    
    

    
    



    

    
    




    
    <style>
        :root {
            --waline-theme-color: #323e74; 
            --waline-color: #323e74; 
            --waline-border-color: #323e74; 
            --waline-white: #323e74; 
            --waline-bgcolor-light: #f2fafc;  
        }
        body {
            color: #323e74;
            background: #eaeae8;
        }
        .post-md code {
            background: #e7f7f3;
            color: #7f688d; 
        }
        .post-md pre, .post-md .highlight {
            background: #e7f7f3;
            color: #7f688d; 
        }
        pre .string, pre .value, pre .inheritance, pre .header, pre .ruby .symbol, pre .xml .cdata {
            color: #323e74;
        }
        pre .number, pre .preprocessor, pre .built_in, pre .literal, pre .params, pre .constant {
            color: #323e74;
        }
        .year-font-color {
            color: #323e74 !important;
        }
        .wl-card span.wl-nick {
            color: #323e74; 
        }
        .wl-card .wl-badge {
            border: 1px solid #323e74;
            color: #323e74; 
        }
        .wl-btn {
            border: 1px solid #323e74; 
            color:  #323e74;  
        }
        .wl-btn.primary {
            color: #f2fafc; 
        }
        .wl-header label {
            color: #323e74;
        }
        a {
            color: #7f688d;
        }

        .post-md a {
            color: #7f688d;
        }

        .nav li a {
            color: #7f688d;
        }

        .archive-main a:link {
            color: #7f688d;
        }
        .archive-main a:visited {
            color: #767c7c; 
        }

        .archive li span {
            color: #323e74;
        }

        .post-main-title {
            color: #323e74;
        }

        .post-md h1,
        .post-md h2,
        .post-md h3,
        .post-md h4,
        .post-md h5,
        .post-md h6 {
            color: #323e74;
        }

        [data-waline] p {
            color: #323e74;
        }
        [data-waline] a {
            color: #323e74;
        } 
        .wl-sort li.active {
            color: #323e74;
        }

        .wl-card .wl-meta>span {
            background: #f2fafc;
        }

        .paper {
            background: #eaeae8;
        }

        .index-main {
            background: #f2fafc;
        }

        .paper-main {
            background: #f2fafc;
        }

        .wl-panel {
            background: #f2fafc;
        }

        .archive li:nth-child(odd) {
            background: #f2fafc;
            ;
        }

        .archive li:nth-child(even) {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(odd) td {
            background: #f2fafc;
        }

        .post-md table tr:nth-child(even) td {
            background: #f2fafc;
        }

    
        .progress-wrap::after {
            color: #323e74; /* ç®­å¤´çš„é¢œè‰² */
        }
        .progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* è¾¹æ¡†çš„é¢œè‰² */
        }
        .progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* é¼ æ ‡æ»‘è¿‡çš„ç®­å¤´é¢œè‰² */
         }

        .return-to-last-progress-wrap::after {
            color: #323e74; /* ç®­å¤´çš„é¢œè‰² */
        }
        .return-to-last-progress-wrap svg.progress-circle path {
	        stroke: #323e74; /* è¾¹æ¡†çš„é¢œè‰² */
        }
        .return-to-last-progress-wrap::before {
	        background-image: linear-gradient(298deg, #7f688d, #7f688d); /* é¼ æ ‡æ»‘è¿‡çš„ç®­å¤´é¢œè‰² */
         }

         .left-toc-container::-webkit-scrollbar-thumb {
            background-color: #323e74; /* è®¾ç½®æ»šåŠ¨æ¡æ‹–åŠ¨å—çš„é¢œè‰² */
        }

        .bs-docs-sidebar .nav>.active>a,
        .bs-docs-sidebar .nav>li>a:hover,
        .bs-docs-sidebar .nav>li>a:focus {
            color: #7f688d;
            border-left-color: #7f688d;
        }
        .bs-docs-sidebar .nav>li>a {
            color:  #323e74;
        }
    </style>

    
    <style>
        body {
            background-image: url(/img/3.jpg);
            background-attachment: fixed;  /* èƒŒæ™¯å›ºå®šï¼Œä¸éšé¡µé¢æ»šåŠ¨ */
            background-repeat: no-repeat;  /* é˜²æ­¢èƒŒæ™¯å›¾ç‰‡é‡å¤ */
            background-size: cover;       /* èƒŒæ™¯è‡ªé€‚åº”å¤§å°ï¼Œè¦†ç›–æ•´ä¸ªèƒŒæ™¯ */
            background-position: center;   /* èƒŒæ™¯å±…ä¸­æ˜¾ç¤º */
        }
        .paper {
            background-image: url(/img/3.jpg);
            background-attachment: fixed;  /* èƒŒæ™¯å›ºå®šï¼Œä¸éšé¡µé¢æ»šåŠ¨ */
            background-repeat: no-repeat;  /* é˜²æ­¢èƒŒæ™¯å›¾ç‰‡é‡å¤ */
            background-size: cover;       /* èƒŒæ™¯è‡ªé€‚åº”å¤§å°ï¼Œè¦†ç›–æ•´ä¸ªèƒŒæ™¯ */
            background-position: center;   /* èƒŒæ™¯å±…ä¸­æ˜¾ç¤º */
        }  
    </style>


    
    <body>
        <script src="/js/darkmode-js.min.js"></script>
        
        <script>
            const options = {
                bottom: '40px', // default: '32px'
                right: 'unset', // default: '32px'
                left: '42px', // default: 'unset'
                time: '0.3s', // default: '0.3s'
                mixColor: '#fff', // default: '#fff'
                backgroundColor: ' #eaeae8  ',  // default: '#fff'
                buttonColorDark: '#100f2c',  // default: '#100f2c'
                buttonColorLight: '#fff', // default: '#fff'
                saveInCookies: true, // default: true,
                label: 'ğŸŒ“', // default: ''
                autoMatchOsTheme: true // default: true
            }
            const darkmode = new Darkmode(options);
            darkmode.showWidget();
        </script>
        
        
            
                <div class="left-toc-container">
                    <nav id="toc" class="bs-docs-sidebar"></nav>
                </div>
            
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <style>
            .header-img {
                width: 56px;
                height: auto;
                object-fit: cover; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
                transition: transform 0.3s ease-in-out; 
                border-radius: 0; 
            }
            
        </style>
        <img 
            alt="^-^" 
            cache-control="max-age=86400" 
            class="header-img" 
            src="/img/20250602032635.jpg" 
        />
        <div class="header-content">
            <a class="logo" href="/">Yann</a> 
            <span class="description">äººå·¥æ™ºèƒ½ã€è®¡ç®—æœºã€æœºå™¨å­¦ä¹ ã€linuxã€ç¨‹åºå‘˜</span> 
        </div>
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
            
                <li><a href="/tags/">æ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">
    

    
        
            
                <div class="post-main-title" style="text-align: center;">
                    ã€Object Detectionã€‘-Faster R-CNN
                </div>
            
        
      
    

    

        
            <div class="post-head-meta-center">
        
                
                    <span>æœ€è¿‘æ›´æ–°ï¼š2020-06-14</span> 
                
                
                    
                        &nbsp; | &nbsp;
                    
                     <span>å­—æ•°æ€»è®¡ï¼š2.1k</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span>é˜…è¯»ä¼°æ—¶ï¼š8åˆ†é’Ÿ</span>
                
                
                    
                        &nbsp; | &nbsp;
                    
                    <span id="busuanzi_container_page_pv">
                        é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                    </span>
                
            </div>
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="post-toc-text">æ¦‚è¿°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Conv-layer"><span class="post-toc-text">Conv layer</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#anchor"><span class="post-toc-text">anchor</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#RPN"><span class="post-toc-text">RPN</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#softmax-%E5%88%86%E7%B1%BB"><span class="post-toc-text">softmax åˆ†ç±»</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#bounding-box-predict"><span class="post-toc-text">bounding box predict</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#bounding-box-regression"><span class="post-toc-text">bounding box regression</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ROI-proposal"><span class="post-toc-text">ROI proposal</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ROI-pooling"><span class="post-toc-text">ROI pooling</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Classification-%EF%BC%8Cbounding-box-predict"><span class="post-toc-text">Classification ï¼Œbounding box predict</span></a></li></ol>
            
        
        <div class=".article-gallery"><blockquote>
<p><strong><em>å†™åœ¨å‰é¢</em></strong>ï¼šä¹‹å‰ä¸¤ä¸ªæœˆæ²¡æœ‰çœ‹è¿‡cvæ–¹å‘çš„ä¸œè¥¿â€¦..æ‰€ä»¥æ‰“ç®—å¼€ä¸ªç³»åˆ—æ¥å†™ç›®æ ‡æ£€æµ‹ï¼Œå›¾åƒåˆ†å‰²çš„çˆ†æ¬¾ç®—æ³•ï¼Œç®—æ˜¯å›é¡¾ä¸€éå§ï¼Œå½“ç„¶ä¸€äº›å¤ªç»å…¸é¼»ç¥–çº§çš„æ¨¡å‹å°±æ‡’å¾—çœ‹äº†â€¦â€¦äºæ˜¯è¿™ä¸ªç³»åˆ—å°±å†³å®šå«å¤å¥è®¡åˆ’äº†â€¦.ç›®æ ‡æ£€æµ‹çš„ç¬¬ä¸€ç¯‡å°±ä»Faster R-CNNå¼€å§‹å§ï¼ŒFaster R-CNN æ˜¯ç›®æ ‡æ£€æµ‹ä¸­çš„ä¸€ä¸ªå¾ˆç»å…¸çš„two stageç®—æ³•ï¼Œè®¸å¤šå…¶ä»–çš„ç›®æ ‡æ£€æµ‹ç®—æ³•éƒ½ä¼šè¿ç”¨åˆ°Faster R-CNNçš„éƒ¨åˆ†ç»“æ„æˆ–æ€æƒ³ã€‚è€Œä¸”äº†è§£Faster R-CNNå¯¹ç†è§£å…¶ä»–R-CNNç³»åˆ—ç½‘ç»œéƒ½æœ‰ä¸€å®šçš„å¸®åŠ©ï¼ŒåŒ…æ‹¬Mask R-CNNï¼ŒStereo R-CNN ç­‰ç­‰ã€‚</p>
</blockquote>
<span id="more"></span>  
<p><a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/WpzKakMxdHJZ4w2.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/WpzKakMxdHJZ4w2.png" alt=""></a></p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>Faster R-CNNç”±R-CNNï¼ŒFast R-NNæ”¹è¿›æ¼”å˜è€Œæ¥ï¼Œç›¸å¯¹äºå‰ä¸¤è€…ï¼ŒFaster R-CNNå…·æœ‰è®­ç»ƒé€Ÿåº¦å¿«ï¼Œæ¶ˆè€—å†…å­˜å‡å°‘ï¼Œç²¾åº¦ä¸æ£€æµ‹é€Ÿåº¦éƒ½æœ‰å¤§å¹…æå‡çš„ä¼˜ç‚¹ã€‚</p>
<p>å…ˆæ¥ä¸€å¼ Faster R-CNNçš„ç½‘ç»œåŸºæœ¬ç»“æ„å›¾<a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/AVMlhnPjQmbqNiZ.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/AVMlhnPjQmbqNiZ.png" alt=""></a></p>
<p>ä¸ªäººè®¤ä¸ºç½‘ç»œä¸»è¦åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>æå–feature mapï¼ˆç‰¹å¾å›¾ï¼‰çš„<strong>Conv layer</strong>ã€‚è¯¥éƒ¨åˆ†ä½¿ç”¨VGG-netä½œä¸ºé¢„å¤„ç†ç½‘ç»œï¼Œè¿ç”¨å¤šä¸ªconvï¼Œreluï¼Œpoolingå±‚æå–å›¾åƒç‰¹å¾å›¾ï¼Œä¸ºåé¢çš„ç½‘ç»œæä¾›å›¾åƒä¿¡æ¯ã€‚</li>
<li><strong>anchor</strong>çš„ç”Ÿæˆï¼ŒFaster R-CNNå¯¹å›¾åƒç”Ÿæˆä¸€ç³»åˆ—çš„anchorï¼Œä½œä¸ºç›®æ ‡æ£€æµ‹çš„å…ˆéªŒæ¡†ï¼Œç”¨äºå¤šå°ºåº¦é¢„æµ‹ï¼Œå¹¶åœ¨åé¢ä½¿ç”¨bounding box regressionå¯¹å…¶ä½ç½®è¿›è¡Œä¿®æ­£ã€‚</li>
<li><strong>RPN</strong>ï¼ˆRegion Proposal Networkï¼‰ï¼Œåœ¨feature mapä¸Šçš„æ¯ä¸ªç‚¹ç”Ÿæˆanchorï¼Œç„¶åå°†å…¶æ˜ å°„å›åŸå›¾ï¼Œå¯¹åŸå›¾ä¸­çš„anchorè¿›è¡Œä¿®æ­£ã€ç­›é€‰ï¼Œæå–è¯¥åŒºåŸŸçš„å›¾åƒ(region proposal)ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ROIï¼Œé€è¿›ROI pooingå±‚ã€‚</li>
<li><strong>ROI pooing</strong>ï¼Œå¯¹featuer mapä¸­çš„ROIåˆ’åˆ†ä¸ºPool_h*Poo_w(ROI poolingåç‰¹å¾å›¾çš„é«˜å’Œå®½)ï¼‰ä¸ªç½‘æ ¼ï¼Œå¯¹æ¯ä¸€ä¸ªç½‘æ ¼è¿›è¡Œmaxpoolingã€‚</li>
<li>ä½¿ç”¨<strong>full connection</strong>ï¼Œ<strong>softmax</strong>å¯¹ROIè¿›è¡Œåˆ†ç±»ä¸bounding boxå›å½’ï¼Œç¡®å®šbounding boxçš„ä½ç½®ã€‚</li>
</ul>
<p>ä¸‹é¢ä»è¿™äº”ä¸ªéƒ¨åˆ†è¿›è¡Œè¯´æ˜ã€‚å…ˆä¸Šä¸€ä¸ªç½‘ä¸Šæ€»ç»“çš„Faster R-CNNçš„ç»“æ„å›¾ã€‚<a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/tTaqJoe8GMj3n6O.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/tTaqJoe8GMj3n6O.png" alt=""></a></p>
<h2 id="Conv-layer"><a href="#Conv-layer" class="headerlink" title="Conv layer"></a>Conv layer</h2><p>Conv layersåŒ…å«3ç§å±‚ï¼Œåˆ†åˆ«æ˜¯convå±‚ï¼Œpoolingå±‚ï¼Œreluå±‚ã€‚<strong>conv</strong>å±‚çš„å·ç§¯æ ¸å¤§å°éƒ½æ˜¯3 * 3 , æ­¥é•¿éƒ½ä¸º1ï¼Œå¹¶ä¸”éƒ½åšäº†æ‰©è¾¹å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ç»è¿‡convå±‚åå›¾åƒçš„å¤§å°æ²¡æœ‰æ”¹å˜ï¼Œåªæ˜¯æ·±åº¦æ”¹å˜ã€‚<strong>pooling</strong> å±‚çš„kernel_size=2,æ­¥é•¿ä¹Ÿä¸º2ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ç»è¿‡ä¸€æ¬¡poolingå±‚åï¼Œå›¾åƒå°ºå¯¸å‡å°ä¸€åŠã€‚</p>
<p>Faster RCNNåœ¨å°†å›¾ç‰‡ä¼ å…¥ç½‘ç»œä¹‹å‰ï¼Œä¼šå°†å›¾ç‰‡ç¼©æ”¾ä¸º<strong>M * N</strong>(VGG ä¸º 800 * 600ï¼‰ï¼Œä»åŸå›¾åˆ°feature mapä¸€å…±ç»è¿‡4æ¬¡poolingï¼Œä¹Ÿå°±æ˜¯feature mapçš„å¤§å°ä¸ºï¼ˆint(M/16)ï¼Œint(N/16)ï¼‰ã€‚</p>
<h2 id="anchor"><a href="#anchor" class="headerlink" title="anchor"></a>anchor</h2><p>anchorå…¶å®æ˜¯åœ¨å›¾åƒä¸Šçš„ä¸€ä¸ªä¸ªå…ˆéªŒæ¡†ï¼Œç”¨æ¥å¯¹åé¢æ£€æµ‹æ¡†çš„ä¿®æ­£ä»¥åŠregion proposalã€‚è¿™é‡Œè¯´ä¸€ä¸‹anchorçš„ç”Ÿæˆè¿‡ç¨‹ã€‚</p>
<p>å…ˆæ¥çœ‹çœ‹ä½œè€…çš„å›¾<a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/b5MvdDNU43rHf8e.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/b5MvdDNU43rHf8e.png" alt=""></a></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œanchorçš„é•¿å®½æ¯”æœ‰[0.5, 1, 2]ä¸‰ç§æ¯”ä¾‹ï¼Œæ¯ç§anchoræœ‰[8, 16, 32]ä¸‰ä¸ªå°ºåº¦æ¯”ä¾‹ï¼Œæ‰€ä»¥anchorsä¸€å…±æœ‰3 * 3 = 9ä¸ªanchorã€‚</p>
<p>ç”Ÿæˆanchorçš„ä¸»è¦åˆ†ä¸ºä¸€ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>é¦–å…ˆè®¾ç½®ä¸€ä¸ª16 <em> 16çš„çª—å£ï¼ˆå› ä¸ºfeature mapå°ºå¯¸ä¸ºåŸå›¾çš„1/16ï¼Œæ‰€ä»¥ä¸€ä¸ªfeature mapä¸Šçš„ç‚¹å¯¹åº”åŸå›¾ä¸Š16 </em> 16 çš„åŒºåŸŸï¼‰ï¼Œè®¡ç®—çš„åˆ°[x_ctr, y_ctr, w, h]ï¼Œä¹Ÿå°±æ˜¯anchorçš„ä¸­å¿ƒç‚¹åæ ‡ä»¥åŠé•¿å®½4ä¸ªé‡ã€‚</li>
<li>ç„¶åè®¡ç®—anchorçš„é¢ç§¯size = w <em> hï¼Œå°†sizeåˆ†åˆ«é™¤[0.5, 1, 2]3ç§æ¯”ä¾‹ï¼Œå†åˆ†åˆ«å¯¹3ä¸ªæ–°çš„sizeså¼€æ ¹å·ä½œä¸ºæ–°çš„anchorçš„3ä¸ªwï¼Œå†å°†w </em> [0.5, 1, 2]å¾—åˆ°hï¼Œè¿™æ ·å°±å¾—åˆ°3ä¸ªanchorçš„é•¿å®½ã€‚</li>
<li>å°†3ä¸ªanchoré•¿å®½åˆ†åˆ«å†ä¹˜3ä¸ªå°ºåº¦æ¯”ä¾‹ï¼Œè¿™æ ·å°±å¾—åˆ°9ä¸ªanchorï¼Œå†å°†anchorçš„è¡¨ç¤ºè½¬æ¢ä¸ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡[x_l, y_l, x_r, y_r]ã€‚</li>
</ul>
<p>æ­¤æ—¶æ¯ä¸ªfeature mapä¸Šçš„ç‚¹éƒ½æœ‰9ä¸ªanchorï¼Œä¹Ÿå°±æ˜¯ä¸€å…±æœ‰ï¼ˆ800/16ï¼‰<em>ï¼ˆ600/16ï¼‰ </em> 9=17100ä¸ªanchorã€‚å†å°†è¿™äº›anchoré€šè¿‡åŸå›¾ä¸feature mapçš„æ˜ å°„å…³ç³»ï¼Œå°†å…¶anchoræ˜ å°„å›åŸå›¾ã€‚<a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/DzSuMRHPLgarVsZ.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/DzSuMRHPLgarVsZ.png" alt=""></a></p>
<h2 id="RPN"><a href="#RPN" class="headerlink" title="RPN"></a>RPN</h2><p>RPNçš„ä¸»è¦ç»“æ„å¦‚å›¾<a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/8A6ejLOcau3KhfX.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/8A6ejLOcau3KhfX.png" alt=""></a></p>
<p>é¦–å…ˆå°†feature mapåœ¨ç»è¿‡ä¸€æ¬¡convå·ç§¯ï¼ˆè¿™é‡Œè®¾å¾—åˆ°çš„ç½‘ç»œå±‚ä¸ºconv5_3)ï¼Œç„¶ååˆ†å¼€ä¸¤æ¡çº¿è¿›è¡Œï¼š</p>
<ul>
<li>å…ˆå°†conv5_3ä½¿ç”¨1 <em> 1 </em> 18çš„å·ç§¯æ ¸å¯¹anchorè¿›è¡Œsoftmaxåˆ†ç±»ï¼Œå°†anchoråˆ†ä¸ºpostivteå’Œnegativeï¼ˆrpn_cls_prob)ï¼ŒäºŒåˆ†ç±»ã€‚ï¼ˆ18 = 2ï¼ˆpositiv and negativeï¼‰* 9ï¼ˆ9ä¸ªanchorï¼‰ã€‚</li>
<li>ç”¨äºé¢„æµ‹bounding boxçš„åæ ‡åç§»å€¼ã€‚</li>
<li>åœ¨Proposalå±‚ç»¼åˆim_infoï¼ˆä¸»è¦ç”¨æ¥è®¡ç®—proposalçš„åæ ‡ä»¥åŠé™åˆ¶proposalçš„å¤§å°ä»¥å…è¶…å‡ºå›¾åƒè¾¹æ¡†ï¼‰ã€rpn_box_pred å’Œrpn_cls_probé€‰æ‹©å’Œæå–ROIã€‚</li>
</ul>
<h3 id="softmax-åˆ†ç±»"><a href="#softmax-åˆ†ç±»" class="headerlink" title="softmax åˆ†ç±»"></a>softmax åˆ†ç±»</h3><p>conv5_3ç»è¿‡1 <em> 1 </em> 18 å·ç§¯åï¼Œç»´åº¦å˜ä¸º[W, H, 18]ã€‚softmaxå°±æ˜¯è¦å°†æ¯ä¸ªç‚¹çš„9ä¸ªanchorè¿›è¡ŒäºŒåˆ†ç±»ï¼ˆpositiveå’Œnegativeï¼‰ã€‚softmaxå‰åå„æœ‰ä¸€æ¬¡reshapeï¼Œå…¶å®åªæ˜¯ä¸ºäº†è®©åˆ†ç±»æ›´æ–¹ä¾¿è€Œå·²ï¼Œè¿™æ˜¯è®­ç»ƒçš„ä¸€äº›trickã€‚</p>
<h3 id="bounding-box-predict"><a href="#bounding-box-predict" class="headerlink" title="bounding box predict"></a>bounding box predict</h3><p>conv5_3ç»è¿‡1 <em> 1 </em> 36 å·ç§¯å˜ä¸º[W, H, 36]ï¼Œç¬¬ä¸‰ä¸ªç»´åº¦ä¸ºæ¯ä¸ªanchorçš„2ä¸ªåæ ‡çš„åç§»é‡ï¼Œç”¨äºåé¢çš„bounding box regressionã€‚</p>
<h3 id="bounding-box-regression"><a href="#bounding-box-regression" class="headerlink" title="bounding box regression"></a>bounding box regression</h3><p>åœ¨è®­ç»ƒæ—¶éœ€è¦å¯¹anchorè¿›è¡Œè½¬æ¢æ‰èƒ½è´´åˆGT_bboxã€‚æ€æ ·è½¬æ¢å‘¢ï¼Œæœ€ç®€å•çš„åšæ³•å°±æ˜¯å¹³ç§»åŠ ç¼©æ”¾ã€‚</p>
<p>ä¸‹é¢æ˜¯è½¬æ¢çš„å…³ç³»å¼ï¼š<br>$$<br>\begin{aligned}<br>&amp;t_{x}=\left(x-x_{\mathrm{a}}\right) / w_{\mathrm{a}}, \quad t_{\mathrm{y}}=\left(y-y_{\mathrm{a}}\right) / h_{\mathrm{a}}\<br>&amp;t_{\mathrm{w}}=\log \left(w / w_{\mathrm{a}}\right), \quad t_{\mathrm{h}}=\log \left(h / h_{\mathrm{a}}\right)\<br>&amp;\begin{aligned}<br>t_{\mathrm{x}}^{<em>} &amp;=\left(x^{</em>}-x_{\mathrm{a}}\right) / w_{\mathrm{a}}, \quad t_{\mathrm{y}}^{<em>}=\left(y^{</em>}-y_{\mathrm{a}}\right) / h_{\mathrm{a}} \<br>t_{\mathrm{w}}^{<em>} &amp;=\log \left(w^{</em>} / w_{\mathrm{a}}\right), \quad t_{\mathrm{h}}^{<em>}=\log \left(h^{</em>} / h_{\mathrm{a}}\right)<br>\end{aligned}<br>\end{aligned}<br>$$<br>æŸå¤±å‡½æ•°ä¸ºï¼š<br>$$<br>\begin{aligned}<br>L\left(\left{p_{i}\right},\left{t_{i}\right}\right) &amp;=\frac{1}{N_{c l s}} \sum_{i} L_{c l s}\left(p_{i}, p_{i}^{<em>}\right) \<br>&amp;+\lambda \frac{1}{N_{r e g}} \sum_{i} p_{i}^{</em>} L_{r e g}\left(t_{i}, t_{i}^{*}\right)<br>\end{aligned}<br>$$</p>
<h2 id="ROI-proposal"><a href="#ROI-proposal" class="headerlink" title="ROI proposal"></a>ROI proposal</h2><p>ROI prosposalè´Ÿè´£ç»¼åˆæ‰€æœ‰çš„å…³äºanchorçš„å˜æ¢å’Œå¯¹softmaxçš„åˆ†ç±»positive anchorï¼Œåœ¨feature mapä¸Šè®¡ç®—å‡ºç²¾ç¡®çš„ROIï¼Œå°†å…¶é€å…¥åé¢çš„ROI Poolingå±‚ã€‚</p>
<p>ä¸»è¦æ­¥éª¤ä¸ºï¼š</p>
<ul>
<li>å¯¹softmaxåçš„anchoræŒ‰scoreè¿›è¡Œæ’åºï¼Œæå–å‰Nä¸ªscoreçš„anchorã€‚</li>
<li>å¯¹è¿™äº›anchorè¿›è¡Œä¿®æ­£ã€‚</li>
<li>ä¿®æ­£å¤§äºå›¾åƒè¾¹ç¼˜çš„anchorã€‚</li>
<li>å¯¹wæˆ–hå°äºè®¾å®šé˜ˆå€¼çš„anchorå‰”é™¤ã€‚</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://q719r0aui.bkt.clouddn.com/fast%20r-cnn%288%29.webp" class="gallery-item" style="box-shadow: none;"> <img src="http://q719r0aui.bkt.clouddn.com/fast%20r-cnn%288%29.webp" alt=""></a></p>
<p>â€‹         <em>æœ€åä¼ å…¥çš„ROIç±»ä¼¼è¿™æ ·</em></p>
<p>è‡³æ­¤ï¼ŒRPNçš„ä»»åŠ¡åˆ°æ­¤å®Œæˆã€‚</p>
<h2 id="ROI-pooling"><a href="#ROI-pooling" class="headerlink" title="ROI pooling"></a>ROI pooling</h2><p>Faster RCNNæœ€åçš„Classificationå’Œbounding box çš„é¢„æµ‹éœ€è¦ç”¨åˆ°å…¨è¿æ¥å±‚ï¼Œæ‰€ä»¥åœ¨å°†å›¾ç‰‡ä¼ å…¥å…¨è¿æ¥å±‚æ—¶éœ€è¦å°†å…¶å˜ä¸ºå›ºå®šå¤§å°ã€‚ä½†æ˜¯ä¸€èˆ¬è¾“å…¥çš„ROIå¤§å°éƒ½ä¸å›ºå®šï¼Œå¦‚æœåˆ©ç”¨é‡‡æ ·çš„æ–¹æ³•è¿›è¡Œå˜æ¢ä¸ºæ‰€éœ€è¦çš„å¤§å°ï¼Œä¼šå¯¹å›¾åƒçš„ç»“æ„äº§ç”Ÿå½±å“ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/kDHwuP7YQKpcoTl.jpg" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/kDHwuP7YQKpcoTl.jpg" alt=""></a></p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒFaster RCNNæå‡ºäº†ROI poolingçš„æ–¹æ³•ã€‚</p>
<p>å…·ä½“æ–¹æ³•ä¸ºï¼š</p>
<ul>
<li><p>å°†ROIåˆ’åˆ†ä¸ºpool_hå’Œpool_wä¸ªç½‘æ ¼ã€‚</p>
</li>
<li><p>æ¯ä¸ªç½‘æ ¼çš„èµ·å§‹å’Œç»“æŸåæ ‡è®¡ç®—æ–¹æ³•ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int hstart = static_cast&lt;int&gt;(floor(ph * bin_size_h));        int wstart = static_cast&lt;int&gt;(floor(pw * bin_size_w));        int hend = static_cast&lt;int&gt;(ceil((ph + 1) * bin_size_h));        int wend = static_cast&lt;int&gt;(ceil((pw + 1) * bin_size_w));         //å…¶ä¸­pwï¼Œphæ˜¯æ¯ä¸ªç½‘æ ¼çš„åæ ‡å€¼</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¡ç®—å®Œä¹‹åçš„æ¯ä¸ªç½‘æ ¼å¯èƒ½ä¼šæœ‰é‡å </p>
</li>
<li><p>å°†æ¯ä¸ªç½‘æ ¼è¿›è¡Œmax poolingæ“ä½œï¼Œè¿™æ ·å°±å¾—åˆ°å›ºå®šå¤§å°çš„å›¾äº†ã€‚</p>
<p><strong>å‡è®¾è¾“å‡ºä¸º2 * 2 å¤§å°</strong></p>
</li>
</ul>
<p><a href="C:%5CUsers%5CLenovo%5CDesktop%5Cyolov1%5Cfast%20r-cnn(11" class="gallery-item" style="box-shadow: none;"> <img src="C:%5CUsers%5CLenovo%5CDesktop%5Cyolov1%5Cfast%20r-cnn(11" alt=""></a>.jpg)</p>
<p><a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/droM81DilEjPFgN.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/droM81DilEjPFgN.png" alt=""></a></p>
<h2 id="Classification-ï¼Œbounding-box-predict"><a href="#Classification-ï¼Œbounding-box-predict" class="headerlink" title="Classification ï¼Œbounding box predict"></a>Classification ï¼Œbounding box predict</h2><p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå°±æ˜¯ä½¿ç”¨å…¨è¿æ¥å±‚å’Œsoftmaxå±‚è¿›è¡Œåˆ†ç±»å’Œé¢„æµ‹bounding boxåæ ‡å€¼ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://i.loli.net/2020/05/03/lnpwKxfgDUSdHhO.png" class="gallery-item" style="box-shadow: none;"> <img src="https://i.loli.net/2020/05/03/lnpwKxfgDUSdHhO.png" alt=""></a></p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>åˆ›æ–°</th>
<th>ç¼ºç‚¹</th>
<th>æ”¹è¿›</th>
</tr>
</thead>
<tbody>
<tr>
<td>R-CNN (Region-based Convolutional Neural Networks)</td>
<td>1ã€SSæå–RPï¼› 2ã€CNNæå–ç‰¹å¾ï¼› 3ã€SVMåˆ†ç±»ï¼› 4ã€BBç›’å›å½’ã€‚</td>
<td>1ã€ è®­ç»ƒæ­¥éª¤ç¹çï¼ˆå¾®è°ƒç½‘ç»œ+è®­ç»ƒSVM+è®­ç»ƒbboxï¼‰ï¼› 2ã€ è®­ç»ƒã€æµ‹è¯•å‡é€Ÿåº¦æ…¢ ï¼› 3ã€ è®­ç»ƒå ç©ºé—´</td>
<td>1ã€ ä»DPM HSCçš„34.3%ç›´æ¥æå‡åˆ°äº†66%ï¼ˆmAPï¼‰ï¼› 2ã€ å¼•å…¥RP+CNN</td>
</tr>
<tr>
<td>Fast R-CNN (Fast Region-based Convolutional Neural Networks)</td>
<td>1ã€SSæå–RPï¼› 2ã€CNNæå–ç‰¹å¾ï¼› 3ã€softmaxåˆ†ç±»ï¼› 4ã€å¤šä»»åŠ¡æŸå¤±å‡½æ•°è¾¹æ¡†å›å½’ã€‚</td>
<td>1ã€ ä¾æ—§ç”¨SSæå–RP(è€—æ—¶2-3sï¼Œç‰¹å¾æå–è€—æ—¶0.32s)ï¼› 2ã€ æ— æ³•æ»¡è¶³å®æ—¶åº”ç”¨ï¼Œæ²¡æœ‰çœŸæ­£å®ç°ç«¯åˆ°ç«¯è®­ç»ƒæµ‹è¯•ï¼› 3ã€ åˆ©ç”¨äº†GPUï¼Œä½†æ˜¯åŒºåŸŸå»ºè®®æ–¹æ³•æ˜¯åœ¨CPUä¸Šå®ç°çš„ã€‚</td>
<td>1ã€ ç”±66.9%æå‡åˆ°70%ï¼› 2ã€ æ¯å¼ å›¾åƒè€—æ—¶çº¦ä¸º3sã€‚</td>
</tr>
<tr>
<td>Faster R-CNN (Fast Region-based Convolutional Neural Networks)</td>
<td>1ã€RPNæå–RPï¼› 2ã€CNNæå–ç‰¹å¾ï¼› 3ã€softmaxåˆ†ç±»ï¼› 4ã€å¤šä»»åŠ¡æŸå¤±å‡½æ•°è¾¹æ¡†å›å½’</td>
<td>1ã€ è¿˜æ˜¯æ— æ³•è¾¾åˆ°å®æ—¶æ£€æµ‹ç›®æ ‡ï¼› 2ã€ è·å–region proposalï¼Œå†å¯¹æ¯ä¸ªproposalåˆ†ç±»è®¡ç®—é‡è¿˜æ˜¯æ¯”è¾ƒå¤§ã€‚</td>
<td>1ã€ æé«˜äº†æ£€æµ‹ç²¾åº¦å’Œé€Ÿåº¦ï¼› 2ã€ çœŸæ­£å®ç°ç«¯åˆ°ç«¯çš„ç›®æ ‡æ£€æµ‹æ¡†æ¶ï¼› 3ã€ ç”Ÿæˆå»ºè®®æ¡†ä»…éœ€çº¦10msã€‚</td>
</tr>
</tbody>
</table>
</div>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2020-03-11</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Yann</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/Object-Detection/'>
                            Object Detection
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E7%AC%94%E8%AE%B0/'>
                            ç¬”è®°
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    
        
            
    
            <div class="post-footer-pre-next">
                
                    <span>ä¸Šä¸€ç¯‡ï¼š<a href='/2020/20200312/'>ã€Object Detectionã€‘-YOLOV1</a></span>
                

                
                    <span class="post-footer-pre-next-last-span-right">ä¸‹ä¸€ç¯‡ï¼š<a href="/2020/20200310/">å¼€æ–°å‘-ç¡¬ä»¶å­¦ä¹ </a>
                    </span>
                
            </div>
    
        
    

    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2025 China 

            
                

            
        </span>
       
    
</div>



<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery/lightgallery.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-thumbnail.umd.min.js"></script>



<script src="/js/lightgallery/plugins/lg-fullscreen.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-autoplay.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-zoom.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-rotate.umd.min.js"></script>


<script src="/js/lightgallery/plugins/lg-paper.umd.min.js"></script>




<script type="text/javascript">
     
    if (typeof lightGallery !== "undefined") {
        var options1 = {
            selector: '.gallery-item',
            plugins: [lgThumbnail, lgFullscreen, lgAutoplay, lgZoom, lgRotate, lgPager], // å¯ç”¨æ’ä»¶
            thumbnail: true,          // æ˜¾ç¤ºç¼©ç•¥å›¾
            zoom: true,               // å¯ç”¨ç¼©æ”¾åŠŸ
            rotate: true,             // å¯ç”¨æ—‹è½¬åŠŸèƒ½èƒ½
            autoplay: true,        // å¯ç”¨è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½
            fullScreen: true,      // å¯ç”¨å…¨å±åŠŸèƒ½
            pager: false, //é¡µç ,
            zoomFromOrigin: true,   // ä»åŸå§‹ä½ç½®ç¼©æ”¾
            actualSize: true,       // å¯ç”¨æŸ¥çœ‹å®é™…å¤§å°çš„åŠŸèƒ½
            enableZoomAfter: 300,    // å»¶è¿Ÿç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡åŠ è½½å®Œæˆåå¯ç¼©æ”¾
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options1); // ä¿®å¤é€‰æ‹©å™¨
    }
    
</script>


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> 

                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>
</html>
<script src="/js/emojiHandler.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    wrapEmojis('.paper');
  });
</script>